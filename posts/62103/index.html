<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【步骤零】实验环境准备 | muyoukule</title><meta name="author" content="木又枯了"><meta name="copyright" content="木又枯了"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文主要讲述Linux系统的安装、Hadoop、MySQL、Hbase、Hive等的下载安装与配置。">
<meta property="og:type" content="article">
<meta property="og:title" content="【步骤零】实验环境准备">
<meta property="og:url" content="https://zz.muyoukule.cn/posts/62103/index.html">
<meta property="og:site_name" content="muyoukule">
<meta property="og:description" content="本文主要讲述Linux系统的安装、Hadoop、MySQL、Hbase、Hive等的下载安装与配置。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover8.png">
<meta property="article:published_time" content="2024-03-23T16:00:00.000Z">
<meta property="article:modified_time" content="2024-05-02T14:38:00.000Z">
<meta property="article:author" content="木又枯了">
<meta property="article:tag" content="Hadoop">
<meta property="article:tag" content="Hive">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="HBase">
<meta property="article:tag" content="Sqoop">
<meta property="article:tag" content="IDEA">
<meta property="article:tag" content="Maven">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover8.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zz.muyoukule.cn/posts/62103/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"距离本文上次更新已经过去","messageNext":"天，请注意时效性。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":10,"languages":{"author":"作者: 木又枯了","link":"链接: ","source":"来源: muyoukule","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【步骤零】实验环境准备',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-02 22:38:00'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 22
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/muyoukule/blog-static-resource/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><div id="myscoll"></div><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">48</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/essay/"><i class="fa-fw fas fa-comment-dots"></i><span> 哔哔</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> 关于</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-home-lg"></i><span> 关于本站</span></a></li><li><a class="site-page child" href="/me/"><i class="fa-fw fas fa-address-card"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/crazy/"><i class="fa-fw fas fa-heart"></i><span> 测试</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover8.png')"><nav id="nav"><span id="blog-info"><a href="/" title="muyoukule"><span class="site-name">muyoukule</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/essay/"><i class="fa-fw fas fa-comment-dots"></i><span> 哔哔</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> 关于</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-home-lg"></i><span> 关于本站</span></a></li><li><a class="site-page child" href="/me/"><i class="fa-fw fas fa-address-card"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/crazy/"><i class="fa-fw fas fa-heart"></i><span> 测试</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">【步骤零】实验环境准备</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-03-23T16:00:00.000Z" title="发表于 2024-03-24 00:00:00">2024-03-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-02T14:38:00.000Z" title="更新于 2024-05-02 22:38:00">2024-05-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/BigData/">BigData</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.3w</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>83分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="【步骤零】实验环境准备"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>简介：本文章基于厦门大学提供的<a target="_blank" rel="noopener" href="https://dblab.xmu.edu.cn/post/7499/">大数据课程实验案例：网站用户行为分析</a>，通过使用 CentOS 操作编写而来。具体介绍请打开链接进行阅读。</p>
<p><font color="red">这里介绍几点值得特别注意的事项：</font></p>
<p>1、对于案例所涉及的系统及软件此文档使用的是以下版本，其他软件版本随意：</p>
<ul>
<li>Linux系统（CentOS7）</li>
<li>MySQL（5.7）</li>
<li>Hadoop（3.1.3）</li>
<li>HBase（2.2.2，HBase版本需要和Hadoop版本兼容）</li>
<li>Hive（3.1.2，Hive需要和Hadoop版本兼容）</li>
<li>Sqoop（1.4.7）</li>
<li>R（3.6.0）</li>
<li>IDEA（ 2023.3.6 社区版）</li>
</ul>
<p><font color="red"><strong>PS：Hadoop 与 HBase、Hive 版本一定要兼容！！！版本一定要兼容！！！这很重要！！！</strong></font>😃😃😃其他软件随意。</p>
<p>2、所有<strong>下载</strong>的安装包均在 <code>/</code> 目录下。所有<strong>安装</strong>的软件均在 <code>/usr/local/</code> 目录下以 <code>软件名-版本号</code> 方式命名。在进行每个软件的安装操作之前请先<strong>整体阅读</strong>整个软件安装流程的文章有个整体思路，<strong>了解到安装此软件需要做哪些设置再进行操作</strong>，这样可以避免很多不必要的麻烦。</p>
<p>3、<font color="red"><strong>此案例分为五个步骤，请按照步骤顺序进行阅读！！</strong>🙂🙂</font></p>
<h1 id="1-安装-Linux-系统"><a href="#1-安装-Linux-系统" class="headerlink" title="1. 安装 Linux 系统"></a>1. 安装 Linux 系统</h1><h2 id="1-1-Linux-的选择"><a href="#1-1-Linux-的选择" class="headerlink" title="1.1 Linux 的选择"></a>1.1 Linux 的选择</h2><p>在 Linux 系统各个发行版中，CentOS 系统和 Ubuntu 系统在服务端和桌面端使用占比最高，选择 Ubuntu 还是 CentOS 主要取决于你的具体需求和使用场景。</p>
<p><strong>适用场景</strong>：</p>
<ul>
<li>CentOS 更适合用于企业级服务器环境，特别是那些需要长时间运行和大量数据处理的场景。它属于Red Hat Enterprise Linux(RHEL)的社区版本，核心思想是企业级稳定性和可靠性。</li>
<li>Ubuntu 则更注重用户友好和易用性，因此更适合个人电脑和桌面应用。它也常用于学习和探索 Linux 的初学者。</li>
</ul>
<p><strong>稳定性</strong>：</p>
<ul>
<li>CentOS 以其稳定性著称。它经过长时间的测试，只有经过验证的稳定版本才会被发布，因此更加安全稳定。</li>
<li>Ubuntu 的 LTS(长期支持)版本也非常稳定，提供长达五年的维护和支持。然而，其升级包有时可能会造成系统的不稳定和不安全。</li>
</ul>
<p><strong>使用难度和界面</strong>：</p>
<ul>
<li>Ubuntu 对新手更为友好，它拥有大量的帮助文档和教程，用户界面也更加友好，适合不熟悉 Linux 的用户。</li>
<li>CentOS 则相对较难上手，特别是对新用户来说。它的界面设计更加简洁，侧重于稳定性和安全性。</li>
</ul>
<p><strong>软件包和兼容性</strong>：</p>
<ul>
<li>CentOS 拥有庞大的软件包库，提供了大量的开源软件。</li>
<li>Ubuntu 则与 Canonical 公司以及其他软件供应商有良好的兼容性，对于一些商业软件的支持也更好。</li>
</ul>
<p><strong>社区支持</strong>：</p>
<ul>
<li>Ubuntu 由于其商业支持者和更大的社区，可能在某些情况下能提供更多的帮助。</li>
<li>CentOS 虽然也有社区支持，但可能不如 Ubuntu 的社区那么活跃和广泛。</li>
</ul>
<p>综上所述，如果你需要一个稳定且适用于企业级服务器环境的系统，CentOS 可能是更好的选择。而如果你<font color="red">更注重易用性和友好的用户界面</font>，或者你是一个 Linux 初学者，那么 Ubuntu 可能更适合你。这只是一个大致的指导，具体选择还需要根据你的具体需求和使用场景进行权衡。</p>
<p><font color="red"><strong>PS：本教程选择的是 CentOS7 版本！！！</strong></font>😀下面我们就开始安装 CentOS7 吧！</p>
<h2 id="1-2-CentOS7-下载地址"><a href="#1-2-CentOS7-下载地址" class="headerlink" title="1.2 CentOS7 下载地址"></a>1.2 CentOS7 下载地址</h2><p><a target="_blank" rel="noopener" href="https://vault.centos.org/7.6.1810/isos/x86_64/">官网下载</a></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/CentOS%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD(1).png" style="zoom: 33%;">

<p>点进去之后依次点击 <code>isos/</code> –&gt; <code>x86_64/</code> ，找到下面文件进行下载</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/CentOS%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD(2).png" style="zoom: 33%;">

<p><a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/centos/7/isos/x86_64/?spm=a2c6h.25603864.0.0.62464511sV8QoX">阿里镜像站</a>：与上面版本有些小差异，不过问题不大。都是CentOS7😉)</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/CentOS%E9%98%BF%E9%87%8C%E4%BA%91%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD.png" style="zoom: 50%;">

<p>打开网站后下载对应的 <code>ios</code> 文件就可以了。</p>
<h2 id="1-3-CentOS7-系统安装"><a href="#1-3-CentOS7-系统安装" class="headerlink" title="1.3 CentOS7 系统安装"></a>1.3 CentOS7 系统安装</h2><p>Linux 系统的安装主要有两种方式：虚拟机安装和双系统安装。</p>
<p>虚拟机安装和使用 Linux 的硬件配置比较高，<del>建议</del><font color="red">要求</font>电脑至少有<strong>8G</strong>运行内存且剩余的存储容量<strong>足够大</strong>。电脑较旧或运行内存小于等于 4G 的电脑强烈建议选择双系统安装。否则，在配置较低的电脑上运行 Linux 虚拟机，<del>系统运行速度会非常慢</del><font color="red">电脑会卡死</font>😓。</p>
<p>什么是运行内存和存储容量？</p>
<p>通俗的说，运行内存决定了同时运行的程序多少，存储空间决定了能装文件的多少。口语中习惯上用运行内存＋存储空间简单描述设备主要指标。</p>
<p>如何查看电脑运行内存和存储容量？</p>
<ul>
<li><p>运行内存：</p>
<p>双击 <code>此电脑</code> 打开如下界面，然后在空白处右键，点击 <code>属性</code>。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8B%E7%94%B5%E8%84%91%E8%BF%90%E8%A1%8C%E5%86%85%E5%AD%98.png" style="zoom: 67%;">

<p>然后会出现这个界面，这里显示的 <code>RAM</code> 就是电脑的运行内存了。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E7%94%B5%E8%84%91%E8%BF%90%E8%A1%8C%E5%86%85%E5%AD%98.png" style="zoom: 67%;">
</li>
<li><p>存储容量：</p>
<p>简单的来说就是你电脑所有盘符的大小，双击 <code>此电脑</code> 就可以看到自己电脑所有盘符的信息。</p>
</li>
</ul>
<p>由于我的电脑是<strong>16G + 512G</strong> ，所以我这里使用<strong>虚拟机安装</strong>。</p>
<blockquote>
<p>虚拟机 VMware 安装</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html">官网下载</a></p>
<p>点开后鼠标向下滑，点击 <code>VMware Workstation 17 Pro</code> 栏下的 <code>DOWNLOAD NOW</code> 之后开始下载 VMware。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/VMware%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD.png" style="zoom: 50%;">

<p>安装时使用 <font color="red">“傻瓜式”</font> 安装，无脑下一步即可。<font color="red">PS：注意按自己需求修改安装路径！</font>😏</p>
<p>安装完后需要产品许可证激活软件，大家可以在网上自行搜索。</p>
<p>安装成功后，<code>Win + i</code> 打开 <code>Windows</code> 设置找到 <code>网络和 Internet</code>，点击 <code>高级网络设置</code> 里的 <code>更改设配器选项</code>，出现了下面两个<strong>网络适配器</strong>则说明安装成功了。如果没有出现就说明网络适配器没有安装成功，那可能就要重装 VMware 咯😣。<font color="red">PS：重装之前记得将以前安装的 VMware 删除干净 ！！！！！</font>😂</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8.png" style="zoom: 67%;">

<blockquote>
<p>在 Windows 使用 VMware 安装 CentOS7</p>
</blockquote>
<p>1、打开 VMware 点击 创建新的虚拟机 。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(1).png" style="zoom: 50%;">

<p>2、选择 自定义(高级)，点击下一步。</p>
<p>典型安装：VMware 会将主流的配置应用在虚拟机的操作系统上，对于新手来很友好。</p>
<p>自定义安装：自定义安装可以针对性的把一些资源加强，把不需要的资源移除。避免资源的浪费。</p>
<p>这里我选择<strong>自定义安装</strong>。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(2).png" style="zoom: 67%;">

<p>3、连续点击下一步来到这个界面，找到择 <code>iso</code> 文件，然后点击下一步。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(3).png" style="zoom:67%;">

<p>4、设置 Linux 名称、用户名、密码，设置完成点击下一步。</p>
<p>密码建议尽量简单一些，我这里设置的是 <code>123456</code> 。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(4).png" style="zoom: 67%;">

<p>5、设置虚拟机名称和位置，然后点击下一步。</p>
<p>虚拟机安装完成后所在的目录，建议放在 C 盘以外的盘符。</p>
<p>我这里设置成 C 盘仅仅是教学需要，因为我电脑其他盘符已经 <font color="red">红</font> 了。😭😭😭</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(5).png" style="zoom:67%;">

<p>6、选择处理器数量以及每个处理器的内核数量(两者乘积不能超过本机的CPU内核数)，我这里都设置成 <code>2</code> ，大家随意，然后点击下一步。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(6).png" style="zoom:67%;">

<p>7、选择内存大小(根据本机内存大小适当选择，建议不要选择超过本机一半的内存，例如我的是 16G，所以我选择 4G 内存)，然后点击下一步。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(7).png" style="zoom: 67%;">

<p>8、连续点击下一步来到这个界面，选择磁盘大小(根据本机大小自己定，建议本机磁盘充裕的情况下越大越好，我这里选择 40G )，将虚拟机磁盘拆分成多个文件，然后点击下一步。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(8).png" style="zoom:67%;">

<p>9、连续点击下一步来到这个界面，核对信息无误后点击 完成 即可。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85CentOS7(9).png" style="zoom:67%;">

<p>至此 CentOS7 的安装就结束啦！现在只需要等待虚拟机开机即可。<strong>PS：虚拟机第一次开机较久，大家需要耐心等待哦。</strong>😊</p>
<p>加载完成后会出现以下界面：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BC%80%E6%9C%BA%E7%95%8C%E9%9D%A2.png" style="zoom: 50%;">

<p>只需要点击一下用户然后输入密码，再点击 <code>Sign In</code> 即可进入虚拟机主界面(第一次开机系统会弹出提示，直接点击右上角 “X” 掉即可)，这就成功进入虚拟机了。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%BB%E7%95%8C%E9%9D%A2.png" style="zoom: 50%;">

<p>至此 Linux 系统已经成功安装好啦！！！！！！！！！！</p>
<p><strong>如何查看自己虚拟机的 ip 地址？</strong></p>
<p>桌面空白处右键点击 <code>Open Terminal</code> 打开 Terminal ，输入 <code>ifconfig</code> 后在 ens33 下看到的这个就是虚拟机的 ip 地址。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E8%99%9A%E6%8B%9F%E6%9C%BAip%E5%9C%B0%E5%9D%80.png" style="zoom:50%;">

<h1 id="远程连接工具"><a href="#远程连接工具" class="headerlink" title="远程连接工具"></a>远程连接工具</h1><p>我们使用 VMware 可以得到 Linux 虚拟机，但是在 VMware 中操作 Linux 的命令行页面不太方便，主要是：<del>和Linux系统的各类交互，跨越 VMware 不方便</del>界面不好看。😐</p>
<p>这里介绍的是 FinalShell ，我为什么选择 FinalShell 呢？主要是 FinalShell <del>是国产SSH工具(纯中文)</del>我用习惯了而已😁，当然市面上也有很多其他的远程连接工具，你可以自行选择。🤔</p>
<h2 id="FinalShell-下载安装"><a href="#FinalShell-下载安装" class="headerlink" title="FinalShell 下载安装"></a>FinalShell 下载安装</h2><p><a target="_blank" rel="noopener" href="https://www.hostbuf.com/t/988.html">下载官网</a>，点进去选择相应的版本即可。</p>
<p>安装：安装？安装时使用 <font color="red">“傻瓜式”</font> 安装，无脑下一步即可。<font color="red">PS：注意按自己需求修改安装路径！</font>😏</p>
<h2 id="FinalShell-使用"><a href="#FinalShell-使用" class="headerlink" title="FinalShell 使用"></a>FinalShell 使用</h2><blockquote>
<p>FinalShell 新建连接</p>
</blockquote>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%96%B0%E5%BB%BA%E8%BF%9E%E6%8E%A5(1).png" style="zoom: 67%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%96%B0%E5%BB%BA%E8%BF%9E%E6%8E%A5(2).png" style="zoom: 50%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%96%B0%E5%BB%BA%E8%BF%9E%E6%8E%A5(3).png" style="zoom: 50%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%96%B0%E5%BB%BA%E8%BF%9E%E6%8E%A5(4).png" style="zoom: 50%;">

<blockquote>
<p>FinalShell 文件上传</p>
</blockquote>
<p>在安装各种软件的时候为了方便，我们通常都是将软件在本机下载好然后再上传到 Linux 系统进行安装，那么怎样将本机下载的软件上传到 Linux 呢？</p>
<p>两种方式：</p>
<ul>
<li>命令上传(需要 <code>sudo yum -y install lrzsz</code> 安装)</li>
<li>直接拖动文件(需要切换 root 用户连接 Linux)</li>
</ul>
<p><strong>第一种：命令上传</strong></p>
<p><font color="red">PS：在上传文件之前请前用 <code>cd</code> 命令切换到文件要上传的目录。</font>😊</p>
<p>执行 <code>sudo rz</code> 命令后会弹出以下界面(第一次使用需要 <code>sudo yum -y install lrzsz</code> 安装一下)，选择下载的文件后点击确定(或者直接双击文件)</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6(1).png" style="zoom:67%;">

<p>等待上传进度 100% 即可</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6(2).png" style="zoom: 50%;">

<p>上传完成后可以通过 <code>ll</code> 命令查看，在目录下出现了对应安装包，则上传成功</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8A%E4%BC%A0%E6%88%90%E5%8A%9F.png" style="zoom: 50%;">

<p><strong>第二种：直接拖动文件</strong></p>
<p><font color="red">PS：使用这种方式一定要用 root 用户连接Linux，普通用户会上传失败</font>😊</p>
<p>怎么切换用户？</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7.png" style="zoom: 50%;">

<p>切换用户后点击 FinalShell 右下角箭头</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%8B%96%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0(1).png" style="zoom:50%;">

<p>然后点击选择文件要上传到的目录，在 Windows 中直接将文件拖到此目录即可</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%8B%96%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0(2).png" style="zoom:50%;">

<p>之后就可以通过图形化界面在目录中看到刚刚上传的文件了</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/FinalShell%E6%8B%96%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0(3).png" style="zoom:50%;">

<p><font color="red">PS：上传完之后记得切换回普通用户，避免误操带来系统损坏。</font>😊</p>
<p><strong>在后面涉及到文件上传的内容均采用以上两种方式(按需自选其一即可)，所以后面不再过多赘述。</strong></p>
<h1 id="2-Hadoop"><a href="#2-Hadoop" class="headerlink" title="2. Hadoop"></a>2. Hadoop</h1><p>Hadoop 是一个由 Apache 基金会开发的分布式系统框架，它利用集群的强大计算能力进行大数据的存储和处理，通过 HDFS 实现分布式存储，并通过 MapReduce 实现分布式计算，为企业提供了高效、可靠、可扩展的大数据处理能力。</p>
<h2 id="2-1-Hadoop-安装准备"><a href="#2-1-Hadoop-安装准备" class="headerlink" title="2.1 Hadoop 安装准备"></a>2.1 Hadoop 安装准备</h2><blockquote>
<p>配置操作权限</p>
</blockquote>
<p>安装之前我们要先了解到：我们刚才在安装 CentOS 的时候设置的用户名只是普通用户，而普通用户在许多地方的权限是受限的。那要怎么解决普通用户在 Linux 系统下权限受限的问题呢？</p>
<p>两个方案(<font color="red">推荐使用第二种，不建议长期使用 root 用户，避免带来系统损坏</font>)：</p>
<ul>
<li>使用 root 用户进行操作( root 用户拥有最大的系统操作权限)。</li>
<li>为普通用户配置 sudo 认证(为普通用户增加管理员权限)。(<font color="red">推荐</font>)</li>
</ul>
<p><strong>第一种：使用 root 用户进行操作</strong></p>
<p>直接使用命令然后输入密码即可切换到 root 用户。(输入密码时可能不会显示，输入密码后直接 <code>Enter</code> 确认就行)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换到 root 用户</span></span><br><span class="line">su - root</span><br></pre></td></tr></table></figure>

<p>切换用户后，可以通过 <code>exit</code> 命令退回上一个用户，也可以使用快捷键：<code>ctrl + d</code> 。</p>
<p>使用普通用户，切换到其它用户需要输入密码，如切换到 root 用户。</p>
<p>使用 root 用户切换到其它用户，无需密码，可以直接切换。</p>
<p><strong>第二种：为普通用户配置 sudo 认证</strong></p>
<p>为普通用户配置 sudo 认证后，在执行其它命令之前，带上 sudo ，即可为这一条命令临时赋予 root 授权。</p>
<p>1、切换到 root 用户，使用命令然后输入密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换到 root 用户</span></span><br><span class="line">su - root</span><br></pre></td></tr></table></figure>

<p>2、执行以下命令，会自动通过 vi 编辑器打开：&#x2F;etc&#x2F;sudoers</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo	<span class="comment">#或者执行 vi /etc/sudoers</span></span><br></pre></td></tr></table></figure>

<p>3、先按一下键盘上的 <code>ESC</code> 键，再输入<code>:set nu</code> 显示行号，找到 <code>root ALL=(ALL) ALL</code> 这行，然后输入 <code>:101</code> (跳到第101行 )，然后在这行增加一行内容：<code>muyoukule ALL=(ALL)	NOPASSWD:ALL</code> (其中 <code>muyoukule</code> 是需要配置 <code>sudo</code> 认证的普通用户，<code>NOPASSWD:ALL</code> 表示使用 sudo 命令时无需输入密码，中间的间隔为 <code>tab</code> )，如下图所示：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/sudo%E8%AE%A4%E8%AF%81.png"></p>
<p>4、添加上一行内容后，先按一下键盘上的 <code>ESC</code> 键，然后输入 <code>:wq</code> 再按回车键保存退出就可以了。</p>
<p>5、最后使用 <code>ctrl + d</code> 注销当前 root 用户，回到刚才自己创建的用户，至此为普通用户配置 <code>sudo</code> 认证成功。</p>
<blockquote>
<p>检查网络</p>
</blockquote>
<p>使用 <code>muyoukule</code> 用户登录后，还需要安装几个软件才能安装 Hadoop。</p>
<p>CentOS 使用 yum 来安装软件，需要联网环境，首先应检查一下是否连上了网络。</p>
<p>提供两种方式：</p>
<ul>
<li><p>如下图所示，桌面右上角的网络图标若显示 <font color="green">绿</font> 点，则表明还联网。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E6%9F%A5%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE.png" style="zoom: 50%;">
</li>
<li><p>使用 <code>ping www.baidu.com</code>，ping 得通说明可以联网。</p>
</li>
</ul>
<blockquote>
<p>安装 SSH、配置 SSH 无密码登陆</p>
</blockquote>
<p>集群、单节点模式都需要用到 SSH 登陆(类似于远程登陆，你可以登录某台 Linux 主机，并且在上面运行命令)，一般情况下，CentOS 默认已安装了 SSH client、SSH server，打开终端执行如下命令进行检验：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检验是否安装了 SSH client、SSH server</span></span><br><span class="line">rpm -qa | grep ssh</span><br></pre></td></tr></table></figure>

<p>如果返回的结果如下图所示，包含了 SSH client 跟 SSH server，则不需要再安装。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E6%9F%A5SSH.png"></p>
<p>若需要安装，则可以通过 yum 进行安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install openssh-clients</span><br><span class="line">sudo yum -y install openssh-server</span><br></pre></td></tr></table></figure>

<p>接着执行如下命令测试一下 SSH 是否可用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure>

<p>此时会有如下提示(SSH首次登陆提示)，输入 yes 。然后按提示输入密码 <code>123456</code> (输入你自己安装虚拟机的时候输入的密码)，这样就登陆到本机了。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%B5%8B%E8%AF%95SSH%20.png"></p>
<p>但这样登陆是需要每次输入密码的，我们需要配置成 SSH 无密码登陆比较方便。</p>
<p>首先输入 <code>exit</code> 退出刚才的 ssh，就回到了我们原先的终端窗口，然后利用 ssh-keygen 生成密钥，并将密钥加入到授权中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 退出刚才的 ssh localhost</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 若没有该目录，请先执行一次ssh localhost</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 会有提示，都按回车就可以</span></span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入授权</span></span><br><span class="line"><span class="built_in">cat</span> id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改文件权限</span></span><br><span class="line"><span class="built_in">chmod</span> 600 ./authorized_keys</span><br></pre></td></tr></table></figure>

<p>此时再用 <code>ssh localhost</code> 命令，无需输入密码就可以直接登陆了，如下图所示：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/SSH%E6%97%A0%E5%AF%86%E7%99%BB%E5%85%A5.png"></p>
<blockquote>
<p>准备 Java 环境</p>
</blockquote>
<p>准备 Java 环境之前我们要知道两件事：</p>
<ul>
<li>软件安装的那些事：<a target="_blank" rel="noopener" href="https://www.php.cn/faq/502305.html">Linux软件安装在哪个目录？</a> <font color="red">很重要！！！！一定要仔细阅读！！！避免后续自己找不到安装的软件！！！</font>😅</li>
<li><strong>JRE 和 JDK 的主要区别：</strong>JRE ( Java 运行环境)仅用于运行已 <font color="red">编译</font> 的 Java 程序，而  JDK ( Java 开发工具包)则包含了 <font color="red">编译、调试、运行</font> Java 程序所需的所有工具，用于 Java 程序的开发。简单来说，JRE 是运行 Java 的，而 JDK 是开发 Java 的。</li>
</ul>
<p>在Linux系统中，Java 环境的选择和配置对于运行 Hadoop 等 Java 应用至关重要，因为 Hadoop 是基于 Java 开发的。我们可以选择以下两种方式安装 Java 环境(<font color="red">推荐第二种方式</font>)：</p>
<ul>
<li>安装 OpenJDK 。</li>
<li>安装 Oracle 的 JDK 。(<font color="red">推荐</font>)</li>
</ul>
<p>Linux 系统通过 yum 安装 OpenJDK 更为简便且开源免费，而安装 Oracle JDK 则需手动下载并可能涉及商业授权，但享有 Oracle 的专业技术支持，两者在版本更新和稳定性上也有所不同，选择取决于具体需求和偏好。</p>
<p><strong>第一种：安装 OpenJDK</strong></p>
<p>OpenJDK 是开源的，并且被广大社区所支持，因此在许多 Linux 发行版中，包括CentOS ，OpenJDK 被作为默认的 Java 环境安装。以 CentOS7 为例，它默认安装了 OpenJDK 1.8 的 Java 运行环境(JRE)。可以使用 <code>java -version</code> 查看到：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%BB%98%E8%AE%A4OpenJDK.png"></p>
<p>但是<strong>不能</strong>在系统环境变量中查看到 <code>JAVA_HOME</code> ，由于 Hadoop 需要这个环境变量，所以后面需要<strong>进行 Java 的相关环境变量配置</strong>。</p>
<p>然而，对于 Hadoop 等 Java 应用的开发和运行，通常需要完整的 Java 开发工具包(JDK)，而不仅仅是 JRE 。因此，为了开发方便和确保 Hadoop 等应用的正常运行，用户需要安装 JDK 。</p>
<p>在 CentOS 中，可以通过 <code>yum</code> 包管理器来安装 JDK。具体过程请参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43699958/article/details/134532819">使用 yum 安装 jdk 并配置环境变量</a></p>
<p><strong>第二种：安装 Oracle 的 JDK</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html">JDK 下载官网</a></p>
<p>打开后下拉找到相应的版本下载即可，点击下载后在弹出的页面中输入 Oracle 的账户密码即可下载(如无账户，请自行注册，注册是免费的)。<font color="red">PS：一定要下载以 <code>.tar.gz</code> 结尾的文件，不要下载错了哦！！</font>😊</p>
<p>下载好之后就可以开始安装了：</p>
<p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 JDK 安装文件到 &#x2F;usr&#x2F;local 目录，解压完成后可以进入到 &#x2F;usr&#x2F;local 目录查看是否多了以下文件夹：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩 JDK 安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf jdk-8u162-linux-x64.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8B%E8%A7%A3%E5%8E%8B%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F.png"></p>
<p>3、配置环境变量，使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Java环境变量</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/jdk1.8.0_162</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEJava%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom: 67%;">

<p>4、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>5、检查安装结果，如果设置正确的话，<code>$JAVA_HOME/bin/java -version</code> 会输出 java 的版本信息，且和 <code>java -version</code> 的输出结果一样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$JAVA_HOME</span>/bin/java -version</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E6%9F%A5Java%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C.png"></p>
<p>这样，Hadoop 所需的 Java 运行环境就安装好了。</p>
<h2 id="2-2-Hadoop下载安装"><a href="#2-2-Hadoop下载安装" class="headerlink" title="2.2 Hadoop下载安装"></a>2.2 Hadoop下载安装</h2><p><a target="_blank" rel="noopener" href="https://archive.apache.org/dist/hadoop/common/">官网下载</a></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hadoop%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD(1).png" style="zoom: 67%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hadoop%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD(2).png" style="zoom:50%;">

<p>打不开官网？试试<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/">清华大学开源软件镜像站下载</a>，不过好像只有新版。🤔</p>
<p>下载好之后就可以开始安装了：</p>
<p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 Hadoop 安装文件到 &#x2F;usr&#x2F;local 目录，解压完成后可以进入到 &#x2F;usr&#x2F;local 目录查看是否成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf hadoop-3.1.3.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 hadoop-3.1.3 下的所有文件的所有者改为 muyoukule，</span></span><br><span class="line"><span class="comment"># hadoop-3.1.3 是 hadoop-3.1.3.tar.gz 解压后得到的文件夹</span></span><br><span class="line"><span class="comment"># muyoukule 是当前用户的用户名</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R muyoukule:muyoukule ./hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>3、配置环境变量，使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hadoop 环境变量</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/usr/local/hadoop-3.1.3</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/sbin</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEHadoop%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom:67%;">

<p>4、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>5、检查安装结果，出现下面信息代表安装成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 Hadoop 版本信息</span></span><br><span class="line">hadoop version</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E6%9F%A5Hadoop%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C.png">

<p>这样，Hadoop 就安装好了。</p>
<h2 id="2-3-Hadoop-单机配置"><a href="#2-3-Hadoop-单机配置" class="headerlink" title="2.3 Hadoop 单机配置"></a>2.3 Hadoop 单机配置</h2><p>Hadoop 默认模式为非分布式模式，无需进行其他配置即可运行。非分布式即单 Java 进程，方便进行调试。</p>
<p>现在我们可以执行例子来感受下 Hadoop 的运行。Hadoop 附带了丰富的例子，包括 wordcount、terasort、join、grep 等。</p>
<ul>
<li>WordCount 是一个基础示例程序，用于计算文本中每个单词的出现次数，通过MapReduce模型实现数据的分布式处理。</li>
<li>Terasort 是 Hadoop 中的一个排序算法，能够处理大规模数据集的排序问题，通过分布式计算和 trie 树的性质提高排序效率。</li>
<li>Join 操作在 Hadoop 中虽然不直接支持，但可以通过编程实现类似的功能，包括 Reduce side join 和 Map side join，用于整合不同数据源中的数据。</li>
<li>Grep 则是一种文本搜索工具，在 Hadoop 中可以用于搜索存储在 HDFS 中的大规模文本文件，通过编写自定义的 Mapper 程序实现特定正则表达式的匹配。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改变当前工作目录到 /usr/local/hadoop-3.1.3</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以看到所有例子</span></span><br><span class="line">hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hadoop%E4%BE%8B%E5%AD%90.png" style="zoom:67%;">

<p>在此我们选择运行 grep 例子，我们将 input 文件夹中的所有文件作为输入，筛选当中符合正则表达式  <code>dfs[a-z.]+</code>  的单词并统计出现的次数，最后输出结果到 output 文件夹中。需要注意：如果 output 目录已经存在，Hadoop 会报错，<strong>因为输出目录必须是空的</strong>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改变当前工作目录到 /usr/local/hadoop-3.1.3</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在当前的目录创建一个名为 input 的目录</span></span><br><span class="line"><span class="built_in">mkdir</span> ./input</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 ./etc/hadoop/ 目录下的所有 .xml 文件复制到刚刚创建的 input 目录中</span></span><br><span class="line"><span class="built_in">cp</span> ./etc/hadoop/*.xml ./input</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 input 目录中搜索所有符合正则表达式模式 dfs[a-z.]+ 的字符串，并将搜索结果输出到 output 目录</span></span><br><span class="line">hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep ./input ./output <span class="string">&#x27;dfs[a-z.]+&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 output 目录下的所有文件内容，即 grep 任务的输出结果</span></span><br><span class="line"><span class="built_in">cat</span> ./output/*</span><br></pre></td></tr></table></figure>

<p>执行完后可以看到如下内容：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/grep%E4%BE%8B%E5%AD%90.png" style="zoom: 67%;">

<h2 id="2-4-Hadoop-伪分布式配置"><a href="#2-4-Hadoop-伪分布式配置" class="headerlink" title="2.4 Hadoop 伪分布式配置"></a>2.4 Hadoop 伪分布式配置</h2><p>Hadoop 的伪分布式配置允许 Hadoop 在单节点上以分布式的方式运行，尽管所有的 Hadoop 进程都运行在同一台机器上。在这种配置中，Hadoop 进程以分离的 Java 进程来运行，节点既作为 NameNode 也作为 DataNode，同时读取的是 HDFS(Hadoop Distributed File System)中的文件。</p>
<p><code>cd</code> 进入 Hadoop 安装包内，通过 <code>ll</code> 命令查看文件夹内部结构：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hadoop%E6%96%87%E4%BB%B6%E5%A4%B9%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84.png"></p>
<p>各个文件夹含义如下：</p>
<ul>
<li>bin，存放Hadoop的各类程序(命令)</li>
<li>etc，存放Hadoop的配置文件</li>
<li>include，C语言的一些头文件</li>
<li>lib，存放Linux系统的动态链接库(.so文件)</li>
<li>libexec，存放配置Hadoop系统的脚本文件(.sh和.cmd)</li>
<li>sbin，管理员程序(super bin)</li>
<li>share，存放二进制源码(Java jar包)</li>
</ul>
<p>配置 Hadoop 伪分布式，我们主要涉及到如下文件的修改：</p>
<ul>
<li>core-site.xml： Hadoop 核心配置文件</li>
<li>hdfs-site.xml： HDFS 核心配置文件</li>
</ul>
<p>这些文件均存在与 <code>$HADOOP_HOME/etc/hadoop</code> 文件夹中，用于设置 Hadoop 集群的各种参数，如 HDFS 的端口号、NameNode 的地址等。Hadoop 的配置文件是 xml 格式，每个配置以声明 property 的 name 和 value 的方式来实现。</p>
<p><strong>PS：$HADOOP_HOME是设置的环境变量，其指代 Hadoop 安装文件夹即 &#x2F;usr&#x2F;local&#x2F;hadoop-3.1.3</strong></p>
<p>1、修改配置文件 core-site.xml </p>
<p><strong>hadoop.tmp.dir</strong></p>
<p><code>hadoop.tmp.dir</code> 是 Hadoop 框架中的关键配置参数，用于指定临时数据和关键元数据的存储位置。它对于 Hadoop 的稳定运行和数据安全至关重要，特别是在处理大规模数据集时。合理配置这个目录，可以确保中间文件和关键信息得到妥善保存，避免因系统重启或临时目录被清空而导致的数据丢失。因此，在部署和配置 Hadoop 时，建议根据实际需求调整 <code>hadoop.tmp.dir</code> 的路径，并确保其指向持久化的存储位置。这里我们给它设置为 Hadoop 安装目录下的 <code>tmp</code> 文件夹，对于我的安装目录来说，具体路径在 <code>/usr/local/hadoop-3.1.3/tmp</code>，大家可以根据自己的安装目录进行一定的调整。</p>
<p><strong>fs.defaultFS</strong></p>
<p><code>fs.defaultFS</code> 是 Hadoop 框架中一个重要的配置参数，它用于指定集群中默认的文件系统路径。这个路径通常是 HDFS(Hadoop Distributed FileSystem)的 URI，但也可以是其他支持的文件系统，如本地文件系统、Amazon S3 等。通过配置 <code>fs.defaultFS</code>，Hadoop 应用程序可以无缝地访问和操作存储在这些文件系统中的数据。</p>
<p>这次我们选择用 gedit 而不是 vim 来编辑。gedit 是文本编辑器，类似于 Windows 中的记事本，会比较方便。保存后记得关掉整个 gedit 程序，否则会占用终端。</p>
<p><font color="red">PS：使用 gedit 需要直接操作虚拟机，不能在远程连接工具操作，否则可能会打不开图形化编辑器。</font>😅</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改变当前工作目录到 /usr/local/hadoop-3.1.3</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一次使用先进行安装</span></span><br><span class="line">sudo yum -y install gedit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打开 core-site.xml 文件</span></span><br><span class="line">gedit ./etc/hadoop/core-site.xml</span><br></pre></td></tr></table></figure>

<p>将当中的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改为下面配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置 Hadoop 数据根目录为 /usr/local/hadoop-3.1.3/tmp 目录 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:/usr/local/hadoop-3.1.3/tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">description</span>&gt;</span>Abase for other temporary directories.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://localhost:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/gedit%E7%BC%96%E8%BE%91core-site.xml.png" style="zoom:50%;">

<p>2、同理修改配置文件 hdfs-site.xml</p>
<p><strong>dfs.replication</strong></p>
<p><code>dfs.replication</code>  是 Hadoop 分布式文件系统(HDFS)中的关键参数，用于指定每个数据块在HDFS中存储的副本数。合理配置该参数可以平衡数据可靠性、存储资源消耗和性能需求，确保HDFS在高可用性和容错性方面表现出色。</p>
<p><strong>dfs.namenode.name.dir 和 dfs.datanode.data.dir</strong></p>
<p><code>dfs.namenode.name.dir</code> 用于指定保存 HDFS 元数据的目录，包括文件系统的命名空间、属性及块位置等信息，确保元数据的安全存储和可靠访问。</p>
<p><code>dfs.datanode.data.dir</code> 则用于指定存放 HDFS 数据块文件的目录，是数据节点存储实际数据的本地路径，确保数据的分布式存储和高效访问。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开 hdfs-site.xml 文件</span></span><br><span class="line">gedit ./etc/hadoop/hdfs-site.xml</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置目录为 /usr/local/hadoop-3.1.3/tmp/dfs/name 目录 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.name.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:/usr/local/hadoop-3.1.3/tmp/dfs/name<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置目录为 /usr/local/hadoop-3.1.3/tmp/dfs/data 目录 --&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.datanode.data.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:/usr/local/hadoop-3.1.3/tmp/dfs/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3、配置完成后，执行以下命令格式化 NameNode ，成功的话会看到 <code>successfully formatted</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式化 NameNode</span></span><br><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/NameNode%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96.png"></p>
<p>4、接着执行一下命令，开启 NameNode 和 DataNode 守护进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># start-dfs.sh 是个完整的可执行文件，中间没有空格</span></span><br><span class="line">start-dfs.sh</span><br></pre></td></tr></table></figure>

<p>若出现 SSH 的提示 <code>Are you sure you want to continue connecting</code>，输入 <code>yes</code> 即可。最终出现如下画面：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%BC%80%E5%90%AF%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E6%88%90%E5%8A%9F.png"></p>
<p>假如出现以下异常请参考：<a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv16023845/">解决Hadoop伪分布式中localhost: ERROR: JAVA_HOME is not set and could not be found)</a></p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/JavaHome%E6%89%BE%E4%B8%8D%E5%88%B0.png"></p>
<p>启动完成后，可以通过命令 <code>jps</code> 来判断是否成功启动，若成功启动则会列出如下进程： “NameNode”、”DataNode”和SecondaryNameNode(如果 SecondaryNameNode 没有启动，请运行 <code>stop-dfs.sh</code> 关闭进程，然后再次尝试启动尝试)。如果没有 NameNode 或 DataNode ，那就是配置不成功，请仔细检查之前步骤，或通过查看启动日志排查原因。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断是否成功启动</span></span><br><span class="line">jps</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hadoop%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png"></p>
<p>成功启动后，可以访问 Web 界面查看 HDFS 的 NameNode 状态，可以在线查看 HDFS 中的文件。</p>
<p><font color="red">PS：访问 WEB 界面时，hadoop 3.x 以下版本的端口为 <code>50070</code>，hadoop 3.x 以上版本的端口为 <code>9870</code>。一定要使用相应的版本访问相应的端口，不然访问不成功！！！！</font>😱😱😱</p>
<p>其实在最开始的时候我也不知道 hadoop 3.x 以上版本的端口号发生了变化😭，而我自己安装的 hadoop 版本为 3.1.3，这就导致了我访问 50070 端口时肯定是失败的😫。在网上进行查阅，发现网上描述出现这个情况的原因无非以下几点：防火墙没关闭；端口被占用；$HADOOP_HOME&#x2F;etc&#x2F;hadoop 下的 core-site.xml 和 hdfs-site.xml 没有配置好。我也根据这些问题一一进行排查，尽管没有出现以上问题结果还是访问不了，于是我百思不得其解，跑去 Hadoop 官网查看默认配置项才发现端口号已经发生了改变：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/NameNode%20Web%20UI%E7%9B%91%E5%90%AC%E7%9A%84%E5%9C%B0%E5%9D%80%E5%92%8C%E5%9F%BA%E7%AB%AF%E5%8F%A3.png"></p>
<p>在Hadoop中，<code>dfs.namenode.http-address</code> 是配置参数，用于指定 NameNode Web UI 监听的地址和基端口。这个 Web UI 提供了关于 HDFS 集群状态、配置、以及文件浏览等信息的可视化界面。</p>
<p>发现端口发生改变后我去网上查阅，最后才知道 hadoop 3.x 以下版本的端口为 <code>50070</code>，hadoop 3.x 以上版本的端口变化为了 <code>9870</code>。</p>
<p>最后将Hadoop 官网查看默认配置项链接放在这儿：<a target="_blank" rel="noopener" href="https://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">Apache Hadoop 3.4.0 – MapReduce Tutorial</a> 。大家打开后下拉在左下角找到 <code>Configuration</code> 然后点击 <code>hdfs-site.xml</code> 进入页面在 <code>dfs.namenode.http-address</code> 配置参数就可以查看到端口。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hadoop%E7%9A%84Configurationp.png"></p>
<p>两种访问方式：</p>
<ul>
<li>虚拟机访问</li>
<li>本机访问</li>
</ul>
<p><strong>第一种：虚拟机访问</strong></p>
<p><font color="red">PS：需要直接操作虚拟机，不能在远程连接工具操作，否则会报错。</font>😅</p>
<p>CentOS 自带有 Firefox 浏览器，不过一般比较旧，有很多兼容性问题，可以先卸载掉再安装新版的 Firefox ，安装成功后再查看版本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卸载 Firefox</span></span><br><span class="line">sudo yum -y remove firefox</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 Firefox</span></span><br><span class="line">sudo yum -y install firefox</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">firefox -version</span><br></pre></td></tr></table></figure>

<p>查看 Firefox 版本：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8BFirefox%E7%89%88%E6%9C%AC.png"></p>
<p>输入命令直接打开 Firefox 浏览器：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开 Firefox 浏览器</span></span><br><span class="line">firefox</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80Firefox.png" style="zoom:50%;">

<p>浏览器输入 <a target="_blank" rel="noopener" href="http://localhost:9870/">http://localhost:9870</a> 成功访问到 Web 界面。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/CentOS%E6%9F%A5%E7%9C%8BHDFS.png" style="zoom:50%;">

<p><strong>第二种：本机访问</strong></p>
<p><font color="red">PS：本机访问需要关闭虚拟机防火墙，不然访问不了。</font>(自己虚拟机的防火墙无所谓随便关闭，真实的环境中<del>不建议</del><font color="red">绝对不能</font>这样做，真实的环境一般是开放指定端口)😶</p>
<p>首先查看防火墙状态。出现绿色 <code>Active：active (running)</code> 表示开启，出现白色 <code>Active：inactive (dead)</code> 表示关闭。然后自行对其进行设置。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看防火墙状态</span></span><br><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启防火墙 </span></span><br><span class="line">sudo systemctl start firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭防火墙 </span></span><br><span class="line">sudo systemctl stop firewalld</span><br></pre></td></tr></table></figure>

<p>直接打开本机浏览器输入 <a target="_blank" rel="noopener" href="http://192.168.88.131:9870/">http://192.168.88.131:9870/</a> 成功访问到 Web 界面。<font color="red">PS：这里的 192.168.88.131 是虚拟机 ip 地址。</font></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9C%AC%E6%9C%BA%E6%9F%A5%E7%9C%8BHDFS.png" style="zoom: 50%;">

<p><strong>PS：在启动 Hadoop 的时候如果已有 Hadoop 节点在运行，要先关闭所有 Hadoop 服务再启动。</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关闭 Hadoop</span></span><br><span class="line">stop-dfs.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启 Hadoop</span></span><br><span class="line">start-dfs.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#上面两句操纵也是关闭和开启hadoop操作</span></span><br></pre></td></tr></table></figure>

<h2 id="2-5-运行-Hadoop-伪分布式实例"><a href="#2-5-运行-Hadoop-伪分布式实例" class="headerlink" title="2.5 运行 Hadoop 伪分布式实例"></a>2.5 运行 Hadoop 伪分布式实例</h2><p>上面的单机模式，grep 例子读取的是本地数据，伪分布式读取的则是 HDFS 上的数据。要使用 HDFS，首先需要在 HDFS 中创建用户目录(用户名目录名可以随意输入，我这里输入的是 muyoukule )：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改变当前工作目录到 /usr/local/hadoop-3.1.3</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 HDFS 上创建一个名为 muyoukule 的目录，并将其放置在 /user 目录下</span></span><br><span class="line">hdfs dfs -<span class="built_in">mkdir</span> -p /user/muyoukule</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出 HDFS 上 /user 目录下的所有文件和目录</span></span><br><span class="line">hdfs dfs -<span class="built_in">ls</span> /user</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出 HDFS 上 /user/muyoukule 目录下的所有文件和目录</span></span><br><span class="line">hdfs dfs -<span class="built_in">ls</span> /user/muyoukule</span><br></pre></td></tr></table></figure>

<p>创建成功后可以在 &#x2F;user 目录下查看到用户目录，查看用户目录应该为空，因为目录下没有内容。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HDFS%E4%B8%AD%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95.png"></p>
<p>接着将 <code>./etc/hadoop</code> 中的 xml 文件作为输入文件复制到分布式文件系统中，即将 <code>/usr/local/hadoop-3.1.3/etc/hadoop</code> 复制到分布式文件系统中的 <code>/user/muyoukule/input</code> 中。我使用的是 muyoukule用户，并且已创建相应的用户目录 <code>/user/muyoukule</code>，因此在命令中就可以使用相对路径如 input，其对应的绝对路径就是 <code>/user/muyoukule/input</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 HDFS 上创建一个名为 input 的目录</span></span><br><span class="line">hdfs dfs -<span class="built_in">mkdir</span> input</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将本地文件系统上 ./etc/hadoop/ 目录下所有的 .xml 文件上传到 HDFS 的 input 目录中</span></span><br><span class="line">hdfs dfs -put ./etc/hadoop/*.xml input</span><br></pre></td></tr></table></figure>

<p>复制完成后，可以通过如下命令查看文件列表：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs dfs -<span class="built_in">ls</span> input</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HDFS%E4%B8%8Binput%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8.png"></p>
<p>伪分布式运行 MapReduce 作业的方式跟单机模式相同，区别在于伪分布式读取的是 HDFS 中的文件(可以将单机步骤中创建的本地 input 文件夹，输出结果 output 文件夹都删掉来验证这一点)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 执行一个 MapReduce 作业，该作业使用 Hadoop 自带的 grep 示例程序来搜索 input 目录中匹配给定模式的行，并将结果写入 output 目录</span></span><br><span class="line">hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep input output <span class="string">&#x27;dfs[a-z.]+&#x27;</span></span><br></pre></td></tr></table></figure>

<p>查看运行结果的命令(查看的是位于 HDFS 中的输出结果)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs dfs -<span class="built_in">cat</span> output/*</span><br></pre></td></tr></table></figure>

<p>如果出现：<code>INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false</code> 表示SASL数据传输客户端在进行加密信任检查时，发现本地主机(localHost)和远程主机(remoteHost)都没有被信任。可以不用管它。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HDFS%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C.png"></p>
<p>将运行结果取回到本地：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除本地文件系统中的 output 目录及其所有内容(如果存在)</span></span><br><span class="line"><span class="built_in">rm</span> -r ./output</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从 HDFS 上的 output 目录复制文件到本地文件系统的 output 目录</span></span><br><span class="line">hdfs dfs -get output ./output</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示本地 output 目录中所有文件的内容</span></span><br><span class="line"><span class="built_in">cat</span> ./output/*</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HDFS%E7%BB%93%E6%9E%9C%E5%8F%96%E5%9B%9E%E5%88%B0%E6%9C%AC%E5%9C%B0.png"></p>
<p>Hadoop 运行程序时，输出目录不能存在，否则会提示错误，因此若要再次执行，需要执行如下命令删除 output 文件夹：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除 HDFS 上的 output 目录及其所有内容</span></span><br><span class="line">hdfs dfs -<span class="built_in">rm</span> -r output</span><br></pre></td></tr></table></figure>

<p>若要关闭 Hadoop，则运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop-dfs.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%85%B3%E9%97%ADHadoop.png"></p>
<p>注意：下次启动 Hadoop 时，无需进行 NameNode 的初始化，只需要运行 <code>start-dfs.sh</code> 就可以！</p>
<h2 id="2-6-启动-YARN"><a href="#2-6-启动-YARN" class="headerlink" title="2.6 启动 YARN"></a>2.6 启动 YARN</h2><p><strong>PS：伪分布式不启动 YARN 也可以，一般不会影响程序执行。</strong></p>
<p>YARN 是从 MapReduce 中分离出来的，负责资源管理与任务调度。YARN 运行于 MapReduce 之上，提供了高可用性、高扩展性，YARN 的更多介绍在此不展开，有兴趣的可查阅相关资料。</p>
<p>上述通过 <code>start-dfs.sh</code> 启动 Hadoop，仅仅是启动了 MapReduce 环境，我们可以启动 YARN ，让 YARN 来负责资源管理与任务调度。</p>
<p>1、修改 yarn-site.xml 文件，同样使用 gedit 编辑会比较方便些。( gedit 编辑器使用方法请参照上文 <strong>Hadoop 伪分布式配置</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改变当前工作目录到 /usr/local/hadoop-3.1.3</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打开 yarn-site.xml 文件</span></span><br><span class="line">gedit ./etc/hadoop/yarn-site.xml</span><br></pre></td></tr></table></figure>

<p>修改为如下配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>localhost<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.vmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、修改 mapred-site.xml 文件，如果没有这个文件，需要从 mapred-site.xml.template 复制一份。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开 mapred-site.xml 文件</span></span><br><span class="line">gedit ./etc/hadoop/mapred-site.xml</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3、启动YARN服务，(需要先执行过 <code>start-dfs.sh</code>)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动YARN</span></span><br><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%90%AF%E5%8A%A8YARN%E6%9C%8D%E5%8A%A1.png"></p>
<p>4、验证是否启动成功</p>
<p>方式一：执行 <code>jps</code> 命令查看 NodeManager 和 ResourceManager 服务是否已经启动：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%90%AF%E5%8A%A8YARN%E6%9C%8D%E5%8A%A1%E6%88%90%E5%8A%9F.png"></p>
<p>方式二：虚拟机浏览器输入 <a target="_blank" rel="noopener" href="http://localhost:8088/">http://localhost:8088</a> 成功访问到 Web 界面。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/CentOS%E6%9F%A5%E7%9C%8BYARN.png" style="zoom:50%;">

<p>但 YARN 主要是为集群提供更好的资源管理与任务调度，然而这在单机上体现不出价值，反而会使程序跑得稍慢些。因此在单机上是否开启 YARN 就看实际情况了。</p>
<blockquote>
<p>不启动 YARN 需重命名 mapred-site.xml</p>
</blockquote>
<p>如果不想启动 YARN，务必把配置文件 <strong>mapred-site.xml</strong> 重命名，改成 mapred-site.xml.template，需要用时改回来就行。否则在该配置文件存在，而未开启 YARN 的情况下，运行程序会提示 “Retrying connect to server: 0.0.0.0&#x2F;0.0.0.0:8032” 的错误。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重命名</span></span><br><span class="line"><span class="built_in">mv</span> ./etc/hadoop/mapred-site.xml ./etc/hadoop/mapred-site.xml.template</span><br></pre></td></tr></table></figure>

<p>同样的，关闭 YARN 的脚本如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关闭 YARN</span></span><br><span class="line">stop-yarn.sh</span><br></pre></td></tr></table></figure>

<p>至此，你已经掌握 Hadoop 的配置和基本使用了。</p>
<h2 id="2-7-Hadoop-集群配置"><a href="#2-7-Hadoop-集群配置" class="headerlink" title="2.7 Hadoop 集群配置"></a>2.7 Hadoop 集群配置</h2><p>伪分布式配置主要用于开发和测试环境，因为它将 NameNode 和 DataNode 放在同一台机器上，可能无法充分利用多节点的并行处理能力。在生产环境中，通常会使用完全分布式配置，以利用集群中多台机器的计算和存储能力。</p>
<p>配置安装集群化软件，首要条件就是要有多台Linux服务器可用。我们可以使用 VMware 提供的克隆功能，基于一台虚拟机去克隆创建多台虚拟机，所以这对电脑配置要求很高(至少有 <strong>8G</strong> 运行内存和 <strong>512G</strong> 存储容量)。但是由于我的电脑剩余存储空间容量有限……😭😭😭且在此实验案例教程后续还涉及很多软件的安装，所以我的电脑已经不再支持我配置安装集群化软件。但是如果你<del>对Hadoop 集群配置感兴趣</del>电脑运行内存和剩余存储容量足够大，不妨可以自己在网上找找教程动手试试。😄</p>
<h1 id="3-MySQL"><a href="#3-MySQL" class="headerlink" title="3. MySQL"></a>3. MySQL</h1><p>MySQL 是一个开源的关系型数据库管理系统，它使用结构化查询语言(SQL)进行数据库管理。MySQL 具有高可靠性、高性能、易用性和灵活性等特点，能够处理大量数据，并支持多种存储引擎以满足不同应用需求。它广泛应用于各类网站、应用及企业级系统中，是众多开发者和企业的首选数据库解决方案。通过 MySQL，用户可以轻松地创建、查询、更新和删除数据库中的数据，实现高效的数据管理。</p>
<h2 id="3-1-MySQL-下载与安装"><a href="#3-1-MySQL-下载与安装" class="headerlink" title="3.1 MySQL 下载与安装"></a>3.1 MySQL 下载与安装</h2><p>关于安装 MySQL的方式有很多这里只示例其中一种：<strong>使用 yum 安装。</strong></p>
<p>yum 安装方式自动处理依赖、简化安装过程、提供版本管理，并且易于管理和维护，适合大多数用户。完全可以满足本案例需求。</p>
<p>1、首先打开 <a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/repo/yum/">MySQL Yum Repository</a> </p>
<p>打开后根据你服务器的配置选择，我服务器是 CentOS7 所以选择 <code>Red Hat Enterprise Linux 7 / Oracle Linux 7 (Architecture Independent), RPM Package</code> ，然后点击 <code>Download</code> 下载进入下载页面，进入页面后鼠标光标定位到 <code>No thanks, just start my download.</code> 右键点击 <code>复制链接</code> (<a target="_blank" rel="noopener" href="https://dev.mysql.com/get/mysql80-community-release-el7-11.noarch.rpm)%E3%80%82">https://dev.mysql.com/get/mysql80-community-release-el7-11.noarch.rpm)。</a></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/yum%E5%AE%89%E8%A3%85MySQL(1).png" style="zoom:50%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/yum%E5%AE%89%E8%A3%85MySQL(2).png" style="zoom: 50%;">

<p>2、安装前需要对系统进行检查：</p>
<p>RPM(Red-Hat Package Manager)是软件包管理器，是红帽 Linux 用于管理和安装软件的工具。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果当前系统已经安装过 Mysql 数据库安装将失败。CentOS 自带 mariadb，与 Mysql 数据库冲突。</span></span><br><span class="line"><span class="comment"># 检查是否安装了MySQL</span></span><br><span class="line">sudo rpm -qa | grep mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查是否安装了mariadb</span></span><br><span class="line">sudo rpm -qa | grep mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果有，将其卸载</span></span><br><span class="line">sudo rpm -e --nodeps &lt;软件包名&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/MySQL%E5%AE%89%E8%A3%85%E5%89%8D%E6%A3%80%E6%9F%A5.png"></p>
<p>3、开始安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新密钥</span></span><br><span class="line">sudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装 MySQL yum 库 链接是刚刚在Yum Repository复制的</span></span><br><span class="line">sudo rpm -Uvh https://dev.mysql.com/get/mysql80-community-release-el7-11.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>4、选择要安装的 MySQL 版本：</p>
<p>添加完 yum 源之后，如果什么都不做直接安装的话，会默认安装最新的 MySQL 版本，也就是 mysql8.0 的最新发行版。大家可以自行进行选择。我这里选择的是 <code>mysql5.7</code> ，所以要改一下配置(<strong>想直接装最新版本的可以跳过这一步</strong>)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当前 mysql yum 源下哪些子源可用(不同的 mysql 版本使用不同的子仓库</span></span><br><span class="line">yum repolist all | grep mysql</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/mysql%20yum%E6%BA%90.png" style="zoom:67%;">

<p>可以看到默认开启的是 mysql8.0 的仓库。</p>
<p>开启 5.7，禁用 8.0 有两种方法，一个是用命令修改 <code>/etc/yum.repos.d/mysql-community.repo</code> 文件。另一个是像下面这样使用命令直接修改这个文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 禁用名为 mysql80-community 的软件仓库</span></span><br><span class="line">sudo yum-config-manager --<span class="built_in">disable</span> mysql80-community</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用名为 mysql57-community 的软件仓库</span></span><br><span class="line">sudo yum-config-manager --<span class="built_in">enable</span> mysql57-community</span><br></pre></td></tr></table></figure>

<p>然后再执行查看语句，可以看到 mysql 5.7 已经启用了，8.0 已经禁用了。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/mysql%205.7%E5%90%AF%E7%94%A8.png" style="zoom:67%;">

<p>5、安装 MySQL</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum 安装 mysql-community-server 这个包</span></span><br><span class="line">sudo yum -y install mysql-community-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 MySQL</span></span><br><span class="line">sudo systemctl start mysqld   </span><br><span class="line"><span class="comment"># 设置开机启动(可不设置)</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> mysqld</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查 MySQL 服务状态</span></span><br><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure>

<p>出现 <code>Active：active(running)</code> 代表 MySQL 启动成功。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/MySQL%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png"></p>
<p>6、登录 MySQL</p>
<p>查看默认密码：第一次启动 MySQL 会在日志文件 <code>/var/log/mysqld.log</code> 中生成 root 用户的一个随机密码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看密码</span></span><br><span class="line">sudo <span class="built_in">cat</span> /var/log/mysqld.log | grep password</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/MySQL%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81.png"></p>
<p><strong>PS：没有前面的空格，比如我密码的是 <code>fcIVZvOBk9)r</code> 。</strong></p>
<p>然后执行命令登录 MySQL 数据库服务器，会提示输入密码，输入密码时密码不会显示，输入完直接 <code>Enter</code> 就行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 登录到 MySQL 数据库服务器</span><br><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E7%99%BB%E5%BD%95MySQL.png"></p>
<p>登录到 MySQL 后可以执行以下 SQL 语句查看数据库，与下面一致说明安装成功。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 列出服务器上的所有数据库</span><br><span class="line">show databases;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8BMySQL%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p>
<p>退出MySQL：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit	# 或者快捷键 Ctrl + d</span><br></pre></td></tr></table></figure>

<h2 id="3-2-关于-MySQL-的补充"><a href="#3-2-关于-MySQL-的补充" class="headerlink" title="3.2 关于 MySQL 的补充"></a>3.2 关于 MySQL 的补充</h2><h3 id="3-2-1-修改-root-用户密码"><a href="#3-2-1-修改-root-用户密码" class="headerlink" title="3.2.1 修改 root 用户密码"></a>3.2.1 修改 root 用户密码</h3><p>如果你觉得 MySQL 自动生成的密码太难记忆的话，可以连接 MySQL 之后进行修改密码。在 Linux 上安装 MySQL 时会自动安装一个校验密码的插件，默认密码检查策略要求密码必须包含：大小写字母、数字和特殊符号，并且长度不能少于8位。修改密码时新密码是否符合当前的策略，不满足则会提示ERROR。</p>
<p>如果你想设置简单密码，需要降低 MySQL 的密码安全级别。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#设置密码安全级别低</span><br><span class="line">set global validate_password_policy = 0;</span><br><span class="line">#密码长度最低4位即可</span><br><span class="line">set global validate_password_length = 4;</span><br><span class="line"></span><br><span class="line">#设置简单密码(这里使用简单密码是为了方便，真实环境中不要这样)</span><br><span class="line">ALTER USER &#x27;root &#x27;@&#x27;locaLhost&#x27; IDENTIFIED BY &#x27;root&#x27;;	#前面的 root 为用户名，后面的 root 是密码</span><br></pre></td></tr></table></figure>

<p><font color="red">PS：若在执行 <code>set global validate_password_policy = 0;</code> 时提示 <code>You must reset your password using ALTER USER statement before executing this statement.</code> 你可以<strong>先</strong>设置一个满足默认策略的密码如：<code>@Root123456</code> ，替换掉默认生成的密码，之后<strong>再</strong>进行密码安全级别的降低，就可以成功了。</font></p>
<p><font color="red"><strong>另外：因 mysql 的版本不同调整密码策略的方法也不同，关于更多的密码检查策略请参考<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.3/en/">官方文档</a>。</strong></font></p>
<p>在文档中先选择对应版本再搜索：<code>validate_password</code></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AF%86%E7%A0%81%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99(1).png" style="zoom: 50%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AF%86%E7%A0%81%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99(2).png" style="zoom: 50%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AF%86%E7%A0%81%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99(3).png" style="zoom: 50%;">

<p>上面这个就是密码检查策略了。</p>
<h3 id="3-2-2-创建用户与权限分配"><a href="#3-2-2-创建用户与权限分配" class="headerlink" title="3.2.2 创建用户与权限分配"></a>3.2.2 创建用户与权限分配</h3><p>默认的 root 用户只能当前节点 localhost 访问，是无法远程访问的。</p>
<p>我们还需要创建一个新的账户，用于远程访问，或者直接给 root 用户添加权限。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 授予来自任何主机的 root 用户对所有数据库和所有表的所有权限，并允许其将这些权限授予其他用户。</span><br><span class="line">grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; with grant option;</span><br><span class="line"></span><br><span class="line"># 刷新 MySQL 的权限，使新设置的权限立即生效</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<p>授权后就可以使用在本机使用图形化工具远程访问虚拟机的 MySQL 。(这里使用的是 <code>Navicat</code> )</p>
<p>首先检查防火墙状态，关闭防火墙：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看防火墙状态</span></span><br><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启防火墙 </span></span><br><span class="line">sudo systemctl start firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭防火墙 </span></span><br><span class="line">sudo systemctl stop firewalld</span><br></pre></td></tr></table></figure>

<p>打开 Navicat 进行操作：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E8%99%9A%E6%8B%9F%E6%9C%BAMySQL(1).png" style="zoom: 50%;">

<p>在 Navicat 上看到的数据库与虚拟机一致，远程连接成功。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E8%99%9A%E6%8B%9F%E6%9C%BAMySQL(2).png" style="zoom:50%;">

<h1 id="4-HBase"><a href="#4-HBase" class="headerlink" title="4. HBase"></a>4. HBase</h1><p>HBase 是一个分布式、面向列的开源数据库，基于 Hadoop 构建，以 BigTable 为设计蓝本，具有高可靠性、高扩展性和高性能，适用于存储和处理海量非结构化及半结构化数据，广泛应用于大数据场景下的数据存储和实时分析。</p>
<p>开启 HBase 需要先开启 Hadoop，而关闭 Hadoop 必须先关闭 HBase，所以总的流程顺序就是：</p>
<p><font color="red"><strong>开启 Hadoop –&gt; 开启 HBase –&gt; 关闭 HBase –&gt; 关闭 Hadoop</strong></font>😀</p>
<p><font color="red">请一定严格按照顺序进行，否则可能会出现错误，如果不确定是否有开启其中的某个服务，可以使用 <code>jps</code> 命令进行查看进程 <code>id</code>。</font></p>
<h2 id="4-1-HBase-下载与安装"><a href="#4-1-HBase-下载与安装" class="headerlink" title="4.1 HBase 下载与安装"></a>4.1 HBase 下载与安装</h2><p><a target="_blank" rel="noopener" href="https://archive.apache.org/dist/hbase/">官网下载</a></p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HBase%E4%B8%8B%E8%BD%BD(1).png"></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HBase%E4%B8%8B%E8%BD%BD(2).png" style="zoom: 67%;">

<p>打不开官网？试试<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/hbase/">清华大学开源软件镜像站下载</a>。不过好像只有新版🤔</p>
<p>下载好之后就可以开始安装了：</p>
<p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 Hadoop 安装文件到  &#x2F;usr&#x2F;local 目录，解压完成后可以进入到 &#x2F;usr&#x2F;local 目录查看是否成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf hbase-2.2.2-bin.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>3、配置环境变量，使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># HBase 环境变量</span></span><br><span class="line"><span class="built_in">export</span> HBASE_HOME=/usr/local/hbase-2.2.2</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HBASE_HOME</span>/bin</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEHBase%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom: 67%;">

<p>4、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>5、添加 HBase 权限</p>
<p>输入下面命令，把 hbase 目录权限赋予给 muyoukule 用户：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 hbase-2.2.2 下的所有文件的所有者改为 muyoukule，muyoukule 是当前用户的用户名</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R muyoukule ./hbase-2.2.2</span><br></pre></td></tr></table></figure>

<p>6、检查安装结果，出现下面信息代表安装成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 hbase 版本信息</span></span><br><span class="line">hbase version</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E6%9F%A5HBase%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C.png"></p>
<p>假如出现 <code>找不到或无法加载主类 org.apache.hadoop.hbase.util.GetJavaProperty</code> 的错误，解决方法：</p>
<p>修改 &#x2F;usr&#x2F;local&#x2F;hbase&#x2F;conf&#x2F;hbase-env.sh 配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/hbase-2.2.2/conf/hbase-env.sh</span><br></pre></td></tr></table></figure>

<p>到配置文件底部，将 <code># export HBASE_DISABLE_HADOOP_CLASSPATH_LOOKUP=&quot;true&quot;</code>  前的注释( <code>#</code> 号)删除即可，删除后保存并退出即可。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hbase-env.sh.png" style="zoom: 67%;">

<p>这样，HBase 就安装好了。</p>
<h2 id="4-2-HBase-单机模式配置"><a href="#4-2-HBase-单机模式配置" class="headerlink" title="4.2 HBase 单机模式配置"></a>4.2 HBase 单机模式配置</h2><p>HBase单机模式配置时涉及的两个主要配置文件是 <code>hbase-env.sh</code> 和 <code>hbase-site.xml</code> 。这两个文件分别用于设置 HBase 的运行环境和定义 HBase 的核心配置参数。</p>
<p><strong>hbase-env.sh</strong></p>
<p><code>hbase-env.sh</code> 是一个 shell 脚本文件，它包含了 HBase 启动和运行所需的环境变量设置。在单机模式下配置 HBase 时，需要检查并可能修改以下几个关键的配置项：</p>
<ul>
<li><code>JAVA_HOME</code>：这个变量需要指向你安装的 JDK 的目录。确保 HBase 可以找到并使用正确的 Java 版本。</li>
<li><code>HBASE_MANAGES_ZK</code>：这个变量控制 HBase 是否应该管理其自己的 ZooKeeper 实例。在单机模式下，通常将其设置为 <code>true</code>，这样 HBase 就会启动它自己的 ZooKeeper 实例。</li>
<li>其他环境变量：根据具体的系统配置和需求，可能还需要设置其他环境变量。</li>
</ul>
<p><strong>hbase-site.xml</strong></p>
<p><code>hbase-site.xml</code>是 HBase 的核心配置文件，其中包含了 HBase 集群的各种参数设置。在单机模式下配置 HBase 时，你需要修改或添加以下关键配置项：</p>
<ul>
<li><code>hbase.rootdir</code>：这个参数定义了 HBase 数据的存储位置。在单机模式下，通常将其设置为本地文件系统的某个路径，例如<code>file:///tmp/hbase</code>。这意味着所有的 HBase 数据都将存储在这个指定的本地目录中。</li>
<li><code>hbase.zookeeper.property.dataDir</code>：这个参数指定了 ZooKeeper 使用的数据目录。由于在单机模式下 HBase 通常会管理自己的 ZooKeeper 实例，因此需要设置这个参数来指定 ZooKeeper 数据的存储位置。</li>
<li><code>hbase.cluster.distributed</code>：这个参数控制 HBase 是否以分布式模式运行。在单机模式下，通常将其设置为<code>false</code>。</li>
</ul>
<p>需要注意的是，对于配置文件的修改，需要手动重启相应的 HBase 服务。更改配置文件后，请运行 <code>stop-hbase.sh</code> 以停止 HBase 服务，配置完成后再运行<code>start-hbase.sh</code> 以启动服务。</p>
<blockquote>
<p>配置 hbase-env.sh</p>
</blockquote>
<p>在启动HBase前，需设置  JAVA_HOME 环境变量。为方便用户，HBase 允许在 <code>conf/hbase-env.sh</code> 文件中直接设置。用户需找到 Java 安装位置后编辑 <code>conf/hbase-env.sh</code>，取消对 <code>#export JAVA_HOME=</code> 行的注释，并设置为 Java 安装路径。</p>
<p>先查找 Java 安装位置(如果你知道可以忽略)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找 Java 安装位置</span></span><br><span class="line">whereis java</span><br></pre></td></tr></table></figure>

<p>这里我们找到了不止一个路径，我们需要自行进行判断，我的是 <code>/usr/local/jdk1.8.0_162</code></p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E6%89%BEJava%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE.png"></p>
<p>1、使用 vim 编辑器打开 hbase-env.sh 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/hbase-2.2.2/conf/hbase-env.sh</span><br></pre></td></tr></table></figure>

<p>2、配置 Java 的环境变量</p>
<p>具体作用是告诉 HBase 使用哪一个 jdk，我这里 Java 的安装目录是 <code>/usr/local/jdk1.8.0_162</code>，还需要配置令 ZooKeeper 由 HBase 自己管理，不需要单独的 ZooKeeper，具体需要添加的内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置 Java 的环境变量</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/jdk1.8.0_162</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 ZooKeeper 的管理者</span></span><br><span class="line"><span class="built_in">export</span> HBASE_MANAGES_ZK=<span class="literal">true</span> </span><br></pre></td></tr></table></figure>

<p>因为在 <code>hbase-env.sh</code> 文件中已经存在有 <code>JAVA_HOME</code>、<code>HBASE_MANAGES_ZK</code> 这两个变量，但只是被注释掉了，也就是前面带了 <code>#</code> 号，所以大家可以直接寻找到对应的变量，将前面起注释作用的 <code>#</code> 号删去，然后修改后面的值即可。</p>
<p><strong>PS：vim 编辑器怎样搜索字符串？</strong></p>
<ul>
<li>普通模式下，按下 <code>/</code> 键，然后输入你想要搜索的字符串，按下 <code>Enter</code> 键开始搜索。</li>
<li>要查找下一个匹配的字符串，按 <code>n</code>。</li>
<li>要查找上一个匹配的字符串，按 <code>N</code>。</li>
</ul>
<p>但是我很懒不想去找🙄，所以我就直接写在文件顶部了，这个是不影响运行操作的，具体图示如下：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEhbase-env.sh.png" style="zoom:67%;">

<blockquote>
<p>配置 hbase-site.xml</p>
</blockquote>
<p>这里我们需要修改文件中的 <code>hbase.rootdir</code> 、<code>hbase.unsafe.stream.capability.enforce</code> 两个参数：</p>
<p><code>hbase.rootdir</code> 是 HBase 配置中的一个关键参数，用于指定 HBase 数据和元数据的根存储目录。该目录是 HBase 用来存放所有表数据、索引、日志文件以及其他相关信息的核心位置。通过正确配置 <code>hbase.rootdir</code>，可以确保 HBase 数据被存储在一个持久化、可靠且可扩展的存储系统中，从而保障 HBase 的稳定运行和数据的安全性。这里我们给它设置为 HBase 安装目录下的 <code>hbase-tmp</code> 文件夹，对于我的安装目录来说，具体路径在 <code>/usr/local/hbase-2.2.2/hbase-tmp</code>，大家可以根据自己的安装目录进行一定的调整。</p>
<p><code>hbase.unsafe.stream.capability.enforce</code>：这个配置项用于启用或禁用 <code>TFramedTransport</code>或者<code>TLowDelayTransport</code>的帧大小检查，在默认情况下会启用帧大小检查，用于保证网络连接和数据传输的稳定性，也就是把他的值设置为 <code>true</code>，因为我们现在是伪分布模式，所以不需要保证稳定性，可以选择禁用帧大小检查，从而提升数据传输性能，就是将它的值设置为 <code>flase</code>。当然，也可以不管这个配置项，主要是看个人需求。</p>
<p>1、使用 <code>gedit</code> 编辑器修改其文件内容，具体命令如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit /usr/local/hbase-2.2.2/conf/hbase-site.xml</span><br></pre></td></tr></table></figure>

<p>将当中的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改为下面配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置 HBase 数据根目录为本地文件系统中的 hbase-tmp 目录 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.rootdir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:///usr/local/hbase-2.2.2/hbase-tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.unsafe.stream.capability.enforce<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、测试运行</p>
<p>启动 HBase，并且打开 <code>shell</code> 命令行模式，成功打开后，用户就可以通过输入 <code>shell</code> 命令来使用操作 HBase 数据库了。具体命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动 HBase</span></span><br><span class="line">start-hbase.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#打开 shell 命令行模式</span></span><br><span class="line">hbase shell </span><br></pre></td></tr></table></figure>

<p>出现下面图示的样子，就说明 <code>shell</code> 命令行被成功打开了，可以看到，还有 <code>hbase(main)</code> 的字样：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/shell%E5%91%BD%E4%BB%A4%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80.png"></p>
<p>输入 <code>help</code>，可以获取帮助信息，帮助你更好的熟悉使用方法，还可以看见当前 HBase 的版本，如下图所示：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HBase-help.png"></p>
<p>3、输入 <code>exit</code>或者 <code>Ctrl + d</code> 就可以退出该模式，返回终端控制台。</p>
<p>4、停止 HBase 运行，在终端输入下面命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止 HBase 运行</span></span><br><span class="line">stop-hbase.sh</span><br></pre></td></tr></table></figure>

<p><strong>PS：如果在操作 HBase 的过程中发生错误，可以通过 {HBASE_HOME}目录(&#x2F;usr&#x2F;local&#x2F;hbase-2.2.2)下的 logs 子目录中的日志文件查看错误原因。</strong></p>
<h2 id="4-3-HBase-伪分布式模式配置"><a href="#4-3-HBase-伪分布式模式配置" class="headerlink" title="4.3 HBase 伪分布式模式配置"></a>4.3 HBase 伪分布式模式配置</h2><p>HBase伪分布式模式配置时涉及的两个主要配置文件是 <code>hbase-env.sh</code> 和 <code>hbase-site.xml</code> 。这两个文件分别用于设置 HBase 的运行环境和定义 HBase 的核心配置参数。</p>
<p><strong>hbase-env.sh</strong></p>
<p><code>hbase-env.sh</code> 是一个 shell 脚本文件，它包含了 HBase 启动和运行所需的环境变量设置。在单机模式下配置 HBase 时，需要检查并可能修改以下几个关键的配置项：</p>
<ul>
<li><code>JAVA_HOME</code>：这个变量需要指向你安装的 JDK 的目录。确保 HBase 可以找到并使用正确的 Java 版本。</li>
<li><code>HBASE_MANAGES_ZK</code>：这个变量控制 HBase 是否应该管理其自己的 ZooKeeper 实例。在单机模式下，通常将其设置为<code>true</code>，这样 HBase 就会启动它自己的 ZooKeeper 实例。</li>
<li>其他环境变量：根据具体的系统配置和需求，可能还需要设置其他环境变量。</li>
</ul>
<p><strong>hbase-site.xml</strong></p>
<p><code>hbase-site.xml</code>是 HBase 的核心配置文件，其中包含了 HBase 集群的各种参数设置。在单机模式下配置 HBase 时，你需要修改或添加以下关键配置项：</p>
<ul>
<li><code>hbase.rootdir</code>：这个参数定义了 HBase 数据的存储位置。在单机模式下，通常将其设置为本地文件系统的某个路径，例如<code>file:///tmp/hbase</code>。这意味着所有的 HBase 数据都将存储在这个指定的本地目录中。</li>
<li><code>hbase.zookeeper.property.dataDir</code>：这个参数指定了 ZooKeeper 使用的数据目录。由于在单机模式下 HBase 通常会管理自己的 ZooKeeper 实例，因此需要设置这个参数来指定 ZooKeeper 数据的存储位置。</li>
<li><code>hbase.cluster.distributed</code>：这个参数控制 HBase 是否以分布式模式运行。在单机模式下，通常将其设置为<code>false</code>。</li>
</ul>
<p>需要注意的是，对于配置文件的修改，需要手动重启相应的 HBase 服务。更改配置文件后，请运行 <code>stop-hbase.sh</code> 以停止 HBase 服务，配置完成后再运行<code>start-hbase.sh</code> 以启动服务。</p>
<blockquote>
<p>配置 hbase-env.sh</p>
</blockquote>
<p>在启动HBase前，需设置  JAVA_HOME 环境变量。为方便用户，HBase 允许在 <code>conf/hbase-env.sh</code> 文件中直接设置。用户需找到 Java 安装位置后编辑 <code>conf/hbase-env.sh</code>，取消对 <code>#export JAVA_HOME=</code> 行的注释，并设置为Java安装路径。</p>
<p>先查找 Java 安装位置(如果你知道可以忽略)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找 Java 安装位置</span></span><br><span class="line">whereis java</span><br></pre></td></tr></table></figure>

<p>这里我们找到了不止一个路径，我们需要自行进行判断，我的是 <code>/usr/local/jdk1.8.0_162</code></p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E6%89%BEJava%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE.png"></p>
<p>1、使用 vim 编辑器打开 hbase-env.sh 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/hbase-2.2.2/conf/hbase-env.sh</span><br></pre></td></tr></table></figure>

<p>2、配置 <code>JAVA_HOME</code>，具体作用是告诉 HBase 使用哪一个 jdk，我这里 Java 的安装目录是 <code>/usr/local/jdk1.8.0_162</code>；<code>HBASE_MANAGES_ZK</code> 配置令 ZooKeeper 由 HBase 自己管理，不需要单独的 ZooKeeper。<code>HBASE_CLASSPATH</code> 变量可用于确定运行自定义 HBase 操作所需的其他 JAR 文件和目录的优先级。最后是具体需要添加的内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置 Java 的环境变量</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/jdk1.8.0_162</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 ZooKeeper 的管理者</span></span><br><span class="line"><span class="built_in">export</span> HBASE_MANAGES_ZK=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置为本机 HBase 安装目录下的 conf 目录</span></span><br><span class="line"><span class="built_in">export</span> HBASE_CLASSPATH=/usr/local/hbase-2.2.2/conf</span><br></pre></td></tr></table></figure>

<p>因为在 <code>hbase-env.sh</code> 文件中已经存在有 <code>JAVA_HOME</code>、<code>HBASE_MANAGES_ZK</code>、<code>HBASE_CLASSPATH</code> 这三个变量，只是被注释掉了，也就是前面带了 <code>#</code> 号，所以大家可以直接寻找到对应的变量，将前面起注释作用的 <code>#</code> 号删去，然后修改后面的值即可。</p>
<p><strong>PS：vim 编辑器怎样搜索字符串？</strong></p>
<ul>
<li>普通模式下，按下 <code>/</code> 键，然后输入你想要搜索的字符串，按下 <code>Enter</code> 键开始搜索。</li>
<li>要查找下一个匹配的字符串，按 <code>n</code>。</li>
<li>要查找上一个匹配的字符串，按 <code>N</code>。</li>
</ul>
<p>但是我很懒不想去找🙄，所以我就直接写在文件顶部了，这个是不影响运行操作的，具体图示如下：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E9%85%8D%E7%BD%AEhbase-env.sh.png"></p>
<blockquote>
<p>配置 hbase-site.xml</p>
</blockquote>
<p>这里我们需要修改文件中的 <code>hbase.rootdir</code>、<code>hbase.cluster.distributed</code>、<code>hbase.unsafe.stream.capability.enforce</code> 三个参数。</p>
<p><code>hbase.rootdir</code>：举个例子，如果要指定 HDFS 实例的 Namenode 在 <code>nameenode.example.org</code> 上运行的 HDFS 目录 <code>/hbase-2.2.2</code>，端口为 <code>9000</code>，则需要将此值设置为：<code>hdfs://namenode.example.org:9000/hbase-2.2.2</code>，因为我们做的是伪分布，所以这里我们就将它设置在本机的 <code>9000</code> 端口号上。</p>
<p><code>hbase.cluster.distributed</code>：这个参数用于设置群集将处于的模式。对于分布式模式，值设置为 <code>true</code>，因为我们做的是伪分布模式，所以我们将其值设置为 <code>true</code>。</p>
<p><code>hbase.unsafe.stream.capability.enforce</code>：这个配置项用于启用或禁用 <code>TFramedTransport</code>或者<code>TLowDelayTransport</code>的帧大小检查，在默认情况下会启用帧大小检查，用于保证网络连接和数据传输的稳定性，也就是把他的值设置为 <code>true</code>，因为我们现在是伪分布模式，所以不需要保证稳定性，可以选择禁用帧大小检查，从而提升数据传输性能，就是将它的值设置为 <code>flase</code>，另外，此属性可能会减少故障切换选项，所以在启用的时候需要谨慎，所以我们这里禁用它也有这一层原因。</p>
<p>1、使用 <code>gedit</code> 编辑器修改其文件内容，具体命令如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit /usr/local/hbase-2.2.2/conf/hbase-site.xml</span><br></pre></td></tr></table></figure>

<p>将当中的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改为下面配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.rootdir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://localhost:9000/hbase-2.2.2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.cluster.distributed<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.unsafe.stream.capability.enforce<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、接下来测试运行 HBase</p>
<p>第一步：首先登陆 ssh，之前设置了无密码登陆，因此这里不需要密码；再启动 Hadoop(如果已经启动 Hadoop请跳过此步骤)，</p>
<p>命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 登陆 ssh</span></span><br><span class="line">ssh localhost</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 Hadoop</span></span><br><span class="line">start-dfs.sh</span><br></pre></td></tr></table></figure>

<p>输入命令 <code>jps</code>，能看到 NameNode,DataNode 和 SecondaryNameNode 都已经成功启动，表示 hadoop 启动成功：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hbase%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png"></p>
<p>第二步：再启动 HBase 命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动 HBase </span></span><br><span class="line">start-hbase.sh</span><br></pre></td></tr></table></figure>

<p>启动成功，输入 <code>jps</code> 后就可以看见有 <code>HQuorumPeer</code>、<code>HRegionServer</code>、<code>HMaster</code>，说明都已经成功启动。</p>
<ul>
<li><strong>HQuorumPeer</strong>：ZooKeeper 中的同步和选主线程，确保集群节点同步并处理领导选举。</li>
<li><strong>HRegionServer</strong>：HBase 中负责处理用户 I&#x2F;O 请求、管理HRegion和存储数据的节点。</li>
<li><strong>HMaster</strong>：HBase 集群的主服务器，监控 RegionServer、管理元数据更改和负责表的增删改查操作。</li>
</ul>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hbase%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png"></p>
<p>第三步：进入 shell 界面：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase shell</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hbase%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9Fshell%E5%91%BD%E4%BB%A4%E6%88%90%E5%8A%9F%E6%89%93%E5%BC%80.png"></p>
<p>输入 <code>exit</code>或者 <code>Ctrl + d</code> 就可以退出该模式，返回终端控制台。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit   # 或者 Ctrl + d</span><br></pre></td></tr></table></figure>

<p>3、停止 HBase 运行，在终端输入下面命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止 HBase 运行</span></span><br><span class="line">stop-hbase.sh</span><br></pre></td></tr></table></figure>

<p><strong>PS：如果在操作HBase的过程中发生错误，可以通过{HBASE_HOME}目录(&#x2F;usr&#x2F;local&#x2F;hbase-2.2.2)下的logs子目录中的日志文件查看错误原因。</strong></p>
<h2 id="4-4-编程实践"><a href="#4-4-编程实践" class="headerlink" title="4.4 编程实践"></a>4.4 编程实践</h2><h3 id="4-4-1-利用Shell命令"><a href="#4-4-1-利用Shell命令" class="headerlink" title="4.4.1 利用Shell命令"></a>4.4.1 利用Shell命令</h3><p>先启动 Hadoop 再启动 HBase ，再输入 <code>jps</code> 进行查看。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动 Hadoop 分布式文件系统(HDFS)的守护进程</span></span><br><span class="line">start-dfs.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 HBase 的所有必要守护进程</span></span><br><span class="line">start-hbase.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证是否已经成功启动了相应的守护进程</span></span><br><span class="line">jps</span><br></pre></td></tr></table></figure>

<p>出现以下信息说明启动成功：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">HMaster</span><br><span class="line">DataNode</span><br><span class="line">Jps</span><br><span class="line">SecondaryNameNode</span><br><span class="line">HRegionServer</span><br><span class="line">HQuorumPeer</span><br><span class="line">NameNode</span><br></pre></td></tr></table></figure>

<p>然后进入 shell 界面</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase shell</span><br></pre></td></tr></table></figure>

<blockquote>
<p>HBase中创建表</p>
</blockquote>
<p>HBase 中用 <code>create</code> 命令创建表，具体如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create &#x27;student&#x27;,&#x27;Sname&#x27;,&#x27;Ssex&#x27;,&#x27;Sage&#x27;,&#x27;Sdept&#x27;,&#x27;course&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/HBase%E7%94%A8create%E5%91%BD%E4%BB%A4%E5%88%9B%E5%BB%BA%E8%A1%A8.png"></p>
<p>此时，即创建了一个 student 表，属性有：Sname，Ssex，Sage，Sdept，course。因为 HBase 的表中会有一个系统默认的属性作为行键，无需自行创建，默认为 <code>put</code> 命令操作中表名后第一个数据。创建完 student 表后，可通过 <code>describe</code> 命令查看 student 表的基本信息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看 “student” 表的基本信息</span></span><br><span class="line">describe &#x27;student&#x27;</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/student%E8%A1%A8%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF.png" style="zoom:67%;">

<blockquote>
<p>HBase数据库基本操作</p>
</blockquote>
<p>本小节主要介绍 HBase 的增、删、改、查操作。在添加数据时，HBase 会自动为添加的数据添加一个时间戳，故在需要修改数据时，只需直接添加数据，HBase 即会生成一个新的版本，从而完成 “改” 操作，旧的版本依旧保留，系统会定时回收垃圾数据，只留下最新的几个版本，保存的版本数可以在创建表的时候指定。</p>
<p><strong>添加数据</strong></p>
<p>HBase 中用 <code>put</code> 命令添加数据。</p>
<p><font color="red">PS：一次只能为一个表的一行数据的一个列，也就是一个单元格添加一个数据，所以直接用 shell 命令插入数据效率很低，在实际应用中，一般都是利用编程操作数据。</font></p>
<p>向 student 表中添加数据：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为 student 表添加了学号为 95001，名字为 LiYing 的一行数据，其行键为 95001</span></span><br><span class="line">put &#x27;student&#x27;,&#x27;95001&#x27;,&#x27;Sname&#x27;,&#x27;LiYing&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为 95001 行下的 course:math 列添加一个数据</span></span><br><span class="line">put &#x27;student&#x27;,&#x27;95001&#x27;,&#x27;course:math&#x27;,&#x27;80&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为 95001 行下的 Ssex 列添加一个数据</span></span><br><span class="line">put &#x27;student&#x27;,&#x27;95001&#x27;,&#x27;Ssex&#x27;,&#x27;Male&#x27;</span><br></pre></td></tr></table></figure>

<p>每条命令执行后如添加成功，均返回以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Took 0.0548 seconds</span><br></pre></td></tr></table></figure>

<p>添加后执行使用如下命令可以看到刚才添加的 3 条数据：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检索 student 表中键为 95001 的行的所有数据</span></span><br><span class="line">get &#x27;student&#x27;,&#x27;95001&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%B7%BB%E5%8A%A0%E7%9A%843%E6%9D%A1%E6%95%B0%E6%8D%AE.png"></p>
<p><strong>查看数据</strong></p>
<p>HBase 中有两个用于查看数据的命令：</p>
<ul>
<li><code>get</code> 命令，用于查看表的某一行数据。</li>
<li><code>scan</code> 命令用于查看某个表的全部数据。</li>
</ul>
<p><code>get</code> 命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检索 student 表中键为 95001 的行的所有数据</span></span><br><span class="line">get <span class="string">&#x27;student&#x27;</span>,<span class="string">&#x27;95001&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%B7%BB%E5%8A%A0%E7%9A%843%E6%9D%A1%E6%95%B0%E6%8D%AE.png"></p>
<p><code>scan</code> 命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检索 student 表中所有数据</span></span><br><span class="line">scan &#x27;student&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E7%B4%A2student%E8%A1%A8%E4%B8%AD%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE.png"></p>
<p><strong>删除数据</strong></p>
<p>在 HBase中 用 <code>delete</code> 以及 <code>deleteall</code> 命令进行删除数据操作，它们的区别是：</p>
<ul>
<li><code>delete</code> 用于删除一个数据，是 <code>put</code> 的反向操作；</li>
<li><code>deleteall</code> 操作用于删除一行数据。</li>
</ul>
<p><code>delete</code> 命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除 student 表中行键为 95001 的行的 Ssex 列的数据。</span></span><br><span class="line">delete &#x27;student&#x27;,&#x27;95001&#x27;,&#x27;Ssex&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Took 0.0091 seconds</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检索 student 表中键为 95001 的行的所有数据</span></span><br><span class="line">get &#x27;student&#x27;,&#x27;95001&#x27;</span><br></pre></td></tr></table></figure>

<p>可以看到 Ssex 列的不见了，删除了 student 表中 95001 行下的 Ssex 列的所有数据。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%88%A0%E9%99%A4Ssex%E5%88%97%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE.png"></p>
<p><code>deleteall</code> 命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除 student 表中的 95001 行的全部数据。</span></span><br><span class="line">deleteall &#x27;student&#x27;,&#x27;95001&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Took 0.0052 seconds</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检索 student 表中键为 95001 的行的所有数据</span></span><br><span class="line">get &#x27;student&#x27;,&#x27;95001&#x27;</span><br></pre></td></tr></table></figure>

<p>可以看到所有列不见了，即删除了 student 表中的 95001 行的全部数据。</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%88%A0%E9%99%A495001%E8%A1%8C%E7%9A%84%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE%E3%80%82.png"></p>
<p><strong>删除表</strong></p>
<p>删除表有两步：</p>
<ol>
<li>先让该表不可用。</li>
<li>删除表。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">让该表不可用</span></span><br><span class="line">disable &#x27;student&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除表</span></span><br><span class="line">drop &#x27;student&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有的表</span></span><br><span class="line">list</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/hbase%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E7%9A%84%E8%A1%A8.png"></p>
<blockquote>
<p>查询表历史数据</p>
</blockquote>
<p>查询表的历史版本，需要两步：</p>
<ol>
<li>创建表并插入&#x2F;更新数据。</li>
<li>查询指定版本的数据。</li>
</ol>
<p>1、创建表指定保存的版本数(假设指定为5)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create &#x27;teacher&#x27;,&#123;NAME=&gt;&#x27;username&#x27;,VERSIONS=&gt;5&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Created table teacher</span><br><span class="line">Took 0.7303 seconds                                                                                                 </span><br><span class="line">=&gt; Hbase::Table - teacher</span><br></pre></td></tr></table></figure>

<p>2、插入数据然后更新数据，使其产生历史版本数据。<strong>PS：这里插入数据和更新数据都是用 <code>put</code> 命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">put &#x27;teacher&#x27;,&#x27;91001&#x27;,&#x27;username&#x27;,&#x27;Mary&#x27;</span><br><span class="line">put &#x27;teacher&#x27;,&#x27;91001&#x27;,&#x27;username&#x27;,&#x27;Mary1&#x27;</span><br><span class="line">put &#x27;teacher&#x27;,&#x27;91001&#x27;,&#x27;username&#x27;,&#x27;Mary2&#x27;</span><br><span class="line">put &#x27;teacher&#x27;,&#x27;91001&#x27;,&#x27;username&#x27;,&#x27;Mary3&#x27;</span><br><span class="line">put &#x27;teacher&#x27;,&#x27;91001&#x27;,&#x27;username&#x27;,&#x27;Mary4&#x27;  </span><br><span class="line">put &#x27;teacher&#x27;,&#x27;91001&#x27;,&#x27;username&#x27;,&#x27;Mary5&#x27;</span><br></pre></td></tr></table></figure>

<p>3、查询时，指定查询的历史版本数。默认会查询出最新的数据。(有效取值为1到5)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get &#x27;teacher&#x27;,&#x27;91001&#x27;,&#123;COLUMN=&gt;&#x27;username&#x27;,VERSIONS=&gt;5&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E8%AF%A2%E8%A1%A8%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC%E7%9A%84%E6%95%B0%E6%8D%AE.png"></p>
<blockquote>
<p>退出HBase数据库表操作</p>
</blockquote>
<p>最后退出数据库操作，输入 <code>exit</code> 命令即可退出。</p>
<p><strong>PS：这里退出 HBase 数据库是退出对数据库表的操作，而不是停止启动 HBase 数据库后台运行。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit   # 或者 Ctrl + d</span><br></pre></td></tr></table></figure>

<h3 id="4-4-2-Java-API-编程实践"><a href="#4-4-2-Java-API-编程实践" class="headerlink" title="4.4.2 Java API 编程实践"></a>4.4.2 Java API 编程实践</h3><p>本实例采用 IDEA 开发工具。版本：2023.3.6</p>
<p>关于在 Linux 安装使用 IDEA 可以参考下文 <strong>Linux 安装使用 IDEA</strong>。</p>
<p>关于在 IDEA 中使用 Maven 可以参考下文 <strong>IDEA 中使用 Maven</strong>。</p>
<p><font color="red">PS：在开始运行程序之前，需要启动 HDFS 和 HBase 。这很重要！！千万不要忘记了。</font>😓</p>
<p>1、创建一个 Maven 项目，项目名为 HBaseExample</p>
<p>修改 <code>pom.xml</code> 文件，导入 HBase 的 Java API 的依赖包。<strong>PS：记得刷新依赖</strong>。😄</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.hbase<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hbase-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AF%BC%E5%85%A5HBase%E4%BE%9D%E8%B5%96%E5%8C%85.png" style="zoom: 50%;">

<p>2、操作之前请确保没有 student 表：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打开 shell 命令行模式</span></span><br><span class="line">hbase shell </span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出所有的表，查看是否已经有 student 表</span></span><br><span class="line">list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果有请先删除 student 表</span></span><br><span class="line"><span class="comment"># 让该表不可用</span></span><br><span class="line"><span class="built_in">disable</span> <span class="string">&#x27;student&#x27;</span></span><br><span class="line"><span class="comment"># 删除表</span></span><br><span class="line">drop <span class="string">&#x27;student&#x27;</span></span><br></pre></td></tr></table></figure>

<p>3、编写 <code>ExampleForHBase.java</code> </p>
<p><font color="red">PS：注意修改一下 <code>configuration.set(&quot;hbase.rootdir&quot;, &quot;hdfs://localhost:9000/hbase-2.2.2&quot;)</code> 与 Hbase 配置文件的内容一致。</font>😀</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.muyoukule;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.HBaseConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.TableName;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.client.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.hbase.util.Bytes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExampleForHBase</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Configuration configuration;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection connection;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Admin admin;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        init();</span><br><span class="line">        createTable(<span class="string">&quot;student&quot;</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;score&quot;</span>&#125;);</span><br><span class="line">        insertData(<span class="string">&quot;student&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;score&quot;</span>, <span class="string">&quot;English&quot;</span>, <span class="string">&quot;69&quot;</span>);</span><br><span class="line">        insertData(<span class="string">&quot;student&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;score&quot;</span>, <span class="string">&quot;Math&quot;</span>, <span class="string">&quot;86&quot;</span>);</span><br><span class="line">        insertData(<span class="string">&quot;student&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;score&quot;</span>, <span class="string">&quot;Computer&quot;</span>, <span class="string">&quot;77&quot;</span>);</span><br><span class="line">        getData(<span class="string">&quot;student&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;score&quot;</span>, <span class="string">&quot;English&quot;</span>);</span><br><span class="line">        close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        configuration = HBaseConfiguration.create();</span><br><span class="line">        <span class="comment">//注意修改这里，需要与 Hbase 配置文件保持一致</span></span><br><span class="line">        configuration.set(<span class="string">&quot;hbase.rootdir&quot;</span>, <span class="string">&quot;hdfs://localhost:9000/hbase-2.2.2&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = ConnectionFactory.createConnection(configuration);</span><br><span class="line">            admin = connection.getAdmin();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (admin != <span class="literal">null</span>) &#123;</span><br><span class="line">                admin.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> != connection) &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">createTable</span><span class="params">(String myTableName, String[] colFamily)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">TableName</span> <span class="variable">tableName</span> <span class="operator">=</span> TableName.valueOf(myTableName);</span><br><span class="line">        <span class="keyword">if</span> (admin.tableExists(tableName)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;talbe is exists!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">TableDescriptorBuilder</span> <span class="variable">tableDescriptor</span> <span class="operator">=</span> TableDescriptorBuilder.newBuilder(tableName);</span><br><span class="line">            <span class="keyword">for</span> (String str : colFamily) &#123;</span><br><span class="line">                <span class="type">ColumnFamilyDescriptor</span> <span class="variable">family</span> <span class="operator">=</span></span><br><span class="line">                        ColumnFamilyDescriptorBuilder.newBuilder(Bytes.toBytes(str)).build();</span><br><span class="line">                tableDescriptor.setColumnFamily(family);</span><br><span class="line">            &#125;</span><br><span class="line">            admin.createTable(tableDescriptor.build());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertData</span><span class="params">(String tableName, String rowKey, String colFamily, String col, String val)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">        <span class="type">Put</span> <span class="variable">put</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Put</span>(rowKey.getBytes());</span><br><span class="line">        put.addColumn(colFamily.getBytes(), col.getBytes(), val.getBytes());</span><br><span class="line">        table.put(put);</span><br><span class="line">        table.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getData</span><span class="params">(String tableName, String rowKey, String colFamily, String col)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> connection.getTable(TableName.valueOf(tableName));</span><br><span class="line">        <span class="type">Get</span> <span class="variable">get</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Get</span>(rowKey.getBytes());</span><br><span class="line">        get.addColumn(colFamily.getBytes(), col.getBytes());</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> table.get(get);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(result.getValue(colFamily.getBytes(), col == <span class="literal">null</span> ? <span class="literal">null</span> : col.getBytes())));</span><br><span class="line">        table.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最终编写好的项目结构和代码如下：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81(1).png" style="zoom: 67%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81(2).png" style="zoom: 67%;">

<p>项目空白处右键 <code>Run</code> 开始运行程序，程序运行成功以后，会在运行结果中出现  <code>69</code>：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C69.png" style="zoom: 67%;">

<p>打印出来的 <code>69</code> 上面是日志的警告信息，可以忽略。</p>
<p>这时，可以到 HBase Shell 交互式环境中，使用如下命令查看 student 表是否创建成功：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有的表</span></span><br><span class="line">list</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看 student 表的全部数据</span></span><br><span class="line">scan &#x27;student&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8Bjava%E5%88%9B%E5%BB%BAstudent%E8%A1%A8%E7%BB%93%E6%9E%9C.png"></p>
<p>至此使用 Java 代码操作 HBase 成功！！！！</p>
<h1 id="5-Hive"><a href="#5-Hive" class="headerlink" title="5. Hive"></a>5. Hive</h1><p>官方介绍：Apache Hive is a distributed, fault-tolerant data warehouse system that enables analytics at a massive scale. Hive Metastore(HMS) provides a central repository of metadata that can easily be analyzed to make informed, data driven decisions, and therefore it is a critical component of many data lake architectures. Hive is built on top of Apache Hadoop and supports storage on S3, adls, gs etc though hdfs. Hive allows users to read, write, and manage petabytes of data using SQL.</p>
<h2 id="5-1-Hive-下载与安装"><a href="#5-1-Hive-下载与安装" class="headerlink" title="5.1 Hive 下载与安装"></a>5.1 Hive 下载与安装</h2><p><a target="_blank" rel="noopener" href="https://downloads.apache.org/hive/">官网下载</a></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hive%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD(1).png" style="zoom: 67%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hive%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD(2).png" style="zoom: 80%;">

<p>打不开官网？试试清<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/hive/">华大学开源软件镜像站下载</a>😀</p>
<p>下载好之后就可以开始安装了：</p>
<p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 Hive 安装文件到 &#x2F;usr&#x2F;local 目录，并对解压缩之后的文件进行重命名，授权</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩 Hive  安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf apache-hive-3.1.2-bin.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件</span></span><br><span class="line">sudo <span class="built_in">mv</span> ./apache-hive-3.1.2-bin ./hive-3.1.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改文件权限</span></span><br><span class="line"><span class="comment"># muyoukule:muyoukule 是用户组和用户名，记得换成当前登录用户的用户名</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R muyoukule:muyoukule hive-3.1.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>3、配置环境变量，使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hive 环境变量</span></span><br><span class="line"><span class="built_in">export</span> HIVE_HOME=/usr/local/hive-3.1.2</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HIVE_HOME</span>/bin</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEHive%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom:67%;">

<p>4、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>5、修改<code>/usr/local/hive-3.1.2/conf</code>下的 hive-site.xml(<strong>注意自己的路径</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/hive-3.1.2/conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 hive-default.xml.template 重命名为 hive-default.xml</span></span><br><span class="line"><span class="built_in">mv</span> hive-default.xml.template hive-default.xml</span><br></pre></td></tr></table></figure>

<p>6、使用 gedit 编辑器新建一个配置文件 <code>hive-site.xml</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接操作虚拟机使用 gedit 修改配置文件</span></span><br><span class="line">sudo gedit /usr/local/hive-3.1.2/conf/hive-site.xml</span><br></pre></td></tr></table></figure>

<p>7、在 <code>hive-site.xml</code> 中添加如下配置信息：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> standalone=<span class="string">&quot;no&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- jdbc 连接的 URL：hive 是数据库名称，名称随意但要与后面创建的数据库名称相对应--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://localhost:3306/hive?createDatabaseIfNotExist=true<span class="symbol">&amp;amp;</span>useSSL=false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>JDBC connect string for a JDBC metastore<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- jdbc 连接的 Driver：根据自己MySQL 的版本选择对应的Driver，--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Driver class name for a JDBC metastore<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- jdbc 连接的 username--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>username to use against metastore database<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- jdbc 连接的 password--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>password to use against metastore database<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>添加后保存并退出即可。</p>
<h2 id="5-2-配置-MySQL"><a href="#5-2-配置-MySQL" class="headerlink" title="5.2 配置 MySQL"></a>5.2 配置 MySQL</h2><p>这里我们采用 MySQL 数据库保存 Hive 的元数据，而不是采用 Hive 自带的 derby 来存储元数据。</p>
<p><strong>下载 mysql jdbc 包</strong></p>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/connector/j/">官网下载</a></p>
<p>打开默认是最新版，也可以点击 <code>Archives</code> 选择历史版本。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/mysql%20jdbc%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD.png" style="zoom: 50%;">

<p>选择历史版本后点击 <code>Download</code> 进行下载：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/mysql%20jdbc%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC%E4%B8%8B%E8%BD%BD.png" style="zoom: 50%;">

<p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩文件到 &#x2F;usr&#x2F;local 目录，并对将 <code>mysql-connector-java-5.1.40-bin.jar</code> 拷贝到 hive 的 lib 目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf mysql-connector-java-5.1.48.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 mysql-connector-java-5.1.48-bin.jar 拷贝到 /usr/local/hive-3.1.2/lib 目录下</span></span><br><span class="line"><span class="built_in">cp</span> mysql-connector-java-5.1.48/mysql-connector-java-5.1.48-bin.jar  /usr/local/hive-3.1.2/lib </span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝后可以查看是否拷贝成功</span></span><br><span class="line">find ./hive-3.1.2/lib -<span class="built_in">type</span> f -name <span class="string">&quot;mysql-connector-java-5.1.48-bin.jar&quot;</span></span><br></pre></td></tr></table></figure>

<p>3、启动并登陆 mysql shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动mysql服务</span></span><br><span class="line">sudo systemctl start mysqld</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 登陆 shell 界面</span></span><br><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<p>4、新建 Hive 数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 这个hive数据库与hive-site.xml中localhost:3306/hive的hive对应，用来保存hive元数据</span><br><span class="line">create database hive;    </span><br></pre></td></tr></table></figure>

<p>5、配置 MySQL 允许 Hive 接入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 将所有数据库的所有表的所有权限赋给hive用户，后面的 root 是配置hive-site.xml中配置的连接密码</span><br><span class="line">grant all on *.* to root@localhost identified by &#x27;root&#x27;;</span><br><span class="line"></span><br><span class="line"># 刷新 mysql 系统权限关系表</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<p>6、启动 Hive(启动 Hive 之前，请先启动 Hadoop )</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#启动Hadoop</span></span><br><span class="line">start-all.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动Hive</span></span><br><span class="line">hive</span><br></pre></td></tr></table></figure>

<p>假如在启动时报错：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.datanucleus.store.rdbms.exceptions.MissingTableException: Required table missing : &quot;`VERSION`&quot; in Catalog &quot;&quot; Schema &quot;&quot;. DataNucleus requires this table to perform its persistence operations. Either your MetaData is incorrect, or you need to enable &quot;datanucleus.schema.autoCreateTables&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Hive%E5%90%AF%E5%8A%A8%E6%8A%A5%E9%94%99.png"></p>
<p>解决方法：</p>
<p>先退出 Hive，再执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 退出 Hive</span></span><br><span class="line"><span class="built_in">exit</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化 Hive 的元数据存储的 schema</span></span><br><span class="line">schematool -dbType mysql -initSchema</span><br></pre></td></tr></table></figure>

<p>看到如下内容即代表初始化完毕：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%88%90%E5%8A%9F%E5%88%9D%E5%A7%8B%E5%8C%96%E5%85%83%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p>
<p>初始化后再次使用 <code>hive</code> 启动 Hive，可以看到成功启动：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%88%90%E5%8A%9F%E5%90%AF%E5%8A%A8Hive.png"></p>
<p>启动进入 Hive 的交互式执行环境以后，会出现如下命令提示符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt;</span><br></pre></td></tr></table></figure>

<p>可以在里面输入 SQL 语句，如果要退出 Hive 交互式执行环境，可以输入如下命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit;	# 或者 Ctrl <span class="operator">+</span> d</span><br></pre></td></tr></table></figure>

<h1 id="6-Sqoop"><a href="#6-Sqoop" class="headerlink" title="6. Sqoop"></a>6. Sqoop</h1><p>Sqoop 是一款开源工具，专注于在 Hadoop(Hive)与传统数据库(如 MySQL、PostgreSQL 等)之间高效传输大批量数据。它可以将关系型数据库中的数据导入到 Hadoop 的 HDFS、Hive、HBase 等数据存储系统中，也可以从 Hadoop 的文件系统中导出数据到关系型数据库中。Sqoop 的核心设计思想是利用MapReduce加快数据传输速度，实现批处理方式进行数据传输。</p>
<h2 id="6-1-Sqoop下载与安装"><a href="#6-1-Sqoop下载与安装" class="headerlink" title="6.1 Sqoop下载与安装"></a>6.1 Sqoop下载与安装</h2><p><a target="_blank" rel="noopener" href="https://archive.apache.org/dist/sqoop/">官网下载</a></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/sqoop%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD1.png" style="zoom: 67%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/sqoop%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD2.png" style="zoom:67%;">

<p>下载好之后就可以开始安装了：</p>
<p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 Sqoop 安装文件到 &#x2F;usr&#x2F;local 目录，并对解压缩之后的文件进行重命名，授权</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩 Sqoop 安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件</span></span><br><span class="line">sudo <span class="built_in">mv</span> ./sqoop-1.4.7.bin__hadoop-2.6.0 ./sqoop-1.4.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改文件权限</span></span><br><span class="line"><span class="comment"># muyoukule:muyoukule 是用户组和用户名，记得换成当前登录用户的用户名</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R muyoukule:muyoukule sqoop-1.4.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>3、修改配置文件 <code>sqoop-env.sh</code></p>
<p>进入到 conf 文件夹，找到 <code>sqoop-env-template.sh</code>，修改其名称为 <code>sqoop-env.sh</code> 。然后编辑 <code>sqoop-env.sh</code> 文件，设置<code>HADOOP_COMMON_HOME</code>，<code>HADOOP_MAPRED_HOME</code>，<code>HIVE_HOME</code> 等环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 sqoop-env-template.sh 复制一份并命名为 sqoop-env.sh</span></span><br><span class="line"><span class="built_in">cp</span> ./sqoop-1.4.7/conf/sqoop-env-template.sh ./sqoop-1.4.7/conf/sqoop-env.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑 sqoop-env.sh</span></span><br><span class="line">vim ./sqoop-1.4.7/conf/sqoop-env.sh</span><br></pre></td></tr></table></figure>

<p>修改 <code>sqoop-env.sh</code> 的如下信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置 Hadoop 的环境变量</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_HOME=/usr/local/hadoop-3.1.3</span><br><span class="line"><span class="built_in">export</span> HADOOP_MAPRED_HOME=/usr/local/hadoop-3.1.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 HBase 的环境变量</span></span><br><span class="line"><span class="built_in">export</span> HBASE_HOME=/usr/local/hbase-2.2.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 Hive 的环境变量</span></span><br><span class="line"><span class="built_in">export</span> HIVE_HOME=/usr/local/hive-3.1.2</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果配置了 ZooKeeper,也需要在此配置 ZooKeeper 的路径</span></span><br><span class="line"><span class="comment">#export ZOOCFGDIR= </span></span><br></pre></td></tr></table></figure>

<p>因为在 <code>sqoop-env.sh</code> 文件中已经存在有如上这几个变量，只是被注释掉了，也就是前面带了 <code>#</code> 号，所以大家可以直接寻找到对应的变量，将前面起注释作用的 <code>#</code> 号删去，然后修改后面的值即可。</p>
<p><strong>PS：vim 编辑器怎样搜索字符串？</strong></p>
<ul>
<li>普通模式下，按下 <code>/</code> 键，然后输入你想要搜索的字符串，按下 <code>Enter</code> 键开始搜索。</li>
<li>要查找下一个匹配的字符串，按 <code>n</code>。</li>
<li>要查找上一个匹配的字符串，按 <code>N</code>。</li>
</ul>
<p>但是我很懒不想去找🙄，所以我就直接写在文件顶部了，这个是不影响运行操作的，具体图示如下：</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/sqoop-env.sh.png" style="zoom: 67%;">

<p>4、配置环境变量，使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sqoop 环境变量</span></span><br><span class="line"><span class="built_in">export</span> SQOOP_HOME=/usr/local/sqoop-1.4.7</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$SQOOP_HOME</span>/bin</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AESqoop%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom:67%;">

<p>5、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>6、检查安装结果，出现下面信息代表安装成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 Sqoop 版本信息</span></span><br><span class="line">sqoop version</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%A3%80%E6%9F%A5Sqoop%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C.png"></p>
<p>上面的警告是因为一些组件(HCatalog、Accumulo和Zookeeper)导致的，我们后续不会用到这些组件所以不用管它。</p>
<p>这样，Sqoop 就安装好了。</p>
<h2 id="6-2-配置-MySQL"><a href="#6-2-配置-MySQL" class="headerlink" title="6.2 配置 MySQL"></a>6.2 配置 MySQL</h2><p>1、添加 MySQL 驱动</p>
<p>将 MySQL 的 JDBC 驱动包(例如 <code>mysql-connector-java-5.1.40-bin.jar</code> )添加到 Sqoop 的 lib 目录下。<strong>PS：你的 MySQL 驱动要和你的数据库版本兼容。</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 mysql-connector-java-5.1.48-bin.jar 拷贝到 /usr/local/sqoop-1.4.7/lib 目录下</span></span><br><span class="line"><span class="built_in">cp</span> ./mysql-connector-java-5.1.48/mysql-connector-java-5.1.48-bin.jar /usr/local/sqoop-1.4.7/lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝后可以查看是否拷贝成功</span></span><br><span class="line">find ./sqoop-1.4.7/lib -<span class="built_in">type</span> f -name <span class="string">&quot;mysql-connector-java-5.1.48-bin.jar&quot;</span></span><br></pre></td></tr></table></figure>

<p>2、测试与 MySQL 的连接</p>
<p>首先请确保 MySQL 服务已经启动了，如果没有启动，请执行下面命令启动：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#检查 MySQL 服务状态</span></span><br><span class="line">systemctl status mysqld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 MySQL</span></span><br><span class="line">sudo systemctl start mysqld   </span><br></pre></td></tr></table></figure>

<p>3、然后就可以测试 Sqoop 与 MySQL 之间的连接是否成功：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqoop list-databases --connect jdbc:mysql://127.0.0.1:3306/ --username root -P</span><br></pre></td></tr></table></figure>

<p>如果出现错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WARN: Establishing SSL connection without server&#x27;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#x27;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#x27;false&#x27;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.</span><br><span class="line">2024-03-23 21:20:32,889 ERROR manager.CatalogQueryManager: Failed to list databases</span><br></pre></td></tr></table></figure>

<p>首先检查在配置 jdbc 连接的 URL是是否加了 <code>useSSL=false</code> 参数。如果没加，将它加上后再次测试；如果加了也报这个错误则依次：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">登入数据库</span></span><br><span class="line">mysql -uroot -p</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看是否开启SSL</span></span><br><span class="line">SHOW VARIABLES LIKE &#x27;%ssl%&#x27;;</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AFSSL.png" style="zoom: 80%;">

<p>看到 <code>have_ssl</code> 的值为 <code>YES</code>，表示已开启 SSL。( <code>have_openssl</code>  表示是否支持SSL)。需要将 SSL 关闭：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 MySQL 配置文件，目录根据安装时自行查找</span></span><br><span class="line">sudo vim /etc/my.cnf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在配置文件中添加 disable_ssl 和 skip_ssl 参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加完后重启 MySQL 服务</span></span><br><span class="line">sudo systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E4%BF%AE%E6%94%B9MySQL%E9%85%8D%E7%BD%AE.png" style="zoom: 67%;">

<p>重启后再次测试 ，MySQL 的数据库列表显示在屏幕上表示连接成功：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqoop list-databases --connect jdbc:mysql://127.0.0.1:3306/ --username root -P</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%97%E8%A1%A8.png"></p>
<h1 id="Linux-安装使用-IDEA"><a href="#Linux-安装使用-IDEA" class="headerlink" title="Linux 安装使用 IDEA"></a>Linux 安装使用 IDEA</h1><p>我这里使用的是 <strong>IDEA 2023.3.6 版本和 CentOS7 系统</strong>	其他版本和系统仅作参考。</p>
<p><font color="red">PS：Linux 中安装使用 IDEA 必须直接操作虚拟机，不能在远程连接工具操作，否则会打不开 IDEA。</font>😅</p>
<p>我这里下载的是<del>免费</del>社区版，社区版功能少虽然少，但是在这里够用。但是如果你有特定需求，需要更多的高级功能和定制选项，建议选择<del>收费</del>企业版😐，当然破解码网上都可以找到，安装步骤是一样的，大家有需求可以自行去网上查找相关教程。</p>
<h2 id="IDEA-的下载"><a href="#IDEA-的下载" class="headerlink" title="IDEA 的下载"></a>IDEA 的下载</h2><p>我这里是在本机上下载安装包然后上传到虚拟机，当然你也可以直接在 Linux 中打开 Firefox 浏览器进行下载。</p>
<p><a target="_blank" rel="noopener" href="https://www.jetbrains.com/zh-cn/idea/download/other.html">下载官网</a></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BDidea.png">

<h2 id="IDEA-的安装"><a href="#IDEA-的安装" class="headerlink" title="IDEA 的安装"></a>IDEA 的安装</h2><p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 IDEA 安装文件到 &#x2F;usr&#x2F;local 目录，并对解压缩之后的文件进行重命名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩 IDEA 安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf ideaIC-2023.3.6.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件</span></span><br><span class="line">sudo <span class="built_in">mv</span> ./idea-IC-233.15026.9 ./idea-2023.3.6</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入文件 idea-2023.3.6 的 bin 目录</span></span><br><span class="line"><span class="built_in">cd</span> idea-2023.3.6/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>可以看到 bin 目录下有个 idea.sh 文件：</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8Bidea%E7%9A%84bin%E7%9B%AE%E5%BD%95.png"></p>
<p>3、运行 idea.sh 文件进行安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./idea.sh</span><br></pre></td></tr></table></figure>

<p>假如你觉得每次通过 <code>./idea.sh</code> 指令启动 IDEA 要进入到 IDEA 的环境目录很麻烦，你也可以为 IDEA 配置环境变量(不觉得麻烦的可以跳过此步骤😄)：</p>
<p>1、使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># IDEA 环境变量</span></span><br><span class="line"><span class="built_in">export</span> IDEA_HOME=/usr/local/idea-2023.3.6</span><br><span class="line"><span class="built_in">export</span> PATH=:<span class="variable">$PATH</span>:<span class="variable">$&#123;IDEA_HOME&#125;</span>/bin</span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEIDEA%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom: 67%;">

<p>2、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>3、之后我们就可以在任意目录下输入 <code>idea.sh</code> 启动 IDEA 图形化界面了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动 IDEA 图形化界面</span></span><br><span class="line">idea.sh</span><br></pre></td></tr></table></figure>

<p>第一次启动 IDEA 图形化界面后会依次弹出以下界面，按照如下步骤操作即可：</p>
<p>1、打钩并点击 <code>Continue</code> </p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E5%90%AF%E5%8A%A8(1).png" style="zoom: 67%;">

<p>2、出现 “Date Sharing”  窗口，点击 <code>Don&#39;t Send</code> </p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E5%90%AF%E5%8A%A8(2).png" style="zoom:67%;">

<p>3、前面步骤操作完后，会出现 IDEA 界面</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E5%90%AF%E5%8A%A8(3).png" style="zoom: 50%;">

<p>至此 IDEA 安装完成！！是不是超级简单！！!😀</p>
<h2 id="IDEA-的使用"><a href="#IDEA-的使用" class="headerlink" title="IDEA 的使用"></a>IDEA 的使用</h2><p>1、点击 <code>New Project</code> 新建项目</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E7%9A%84%E4%BD%BF%E7%94%A8(1).png" style="zoom:50%;">

<p>2、修改项目名称，选择 JDK( IDEA 会识别到系统下安装过的 JDK 作为默认项)，如果没有 JDK，需要点击 <code>Download JDK</code> 进行下载</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E7%9A%84%E4%BD%BF%E7%94%A8(2).png" style="zoom:50%;">

<p>2、IDEA 提示 Untrusted Server’s certificate ，证书不可用( Server’s certificate is not trusted )，不用管，点击  <code>Accept</code></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E7%9A%84%E4%BD%BF%E7%94%A8(3).png" style="zoom:50%;">

<p>4、IDEA 默认会创建一个示例项目，等待右下角 JDK 加载完成后在项目空白处右键点击 <code>Run</code></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E7%9A%84%E4%BD%BF%E7%94%A8(4).png" style="zoom:50%;">

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E7%9A%84%E4%BD%BF%E7%94%A8(5).png" style="zoom:50%;">

<p>5、之后看见控制台成功输出结果，成功！！！</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E7%9A%84%E4%BD%BF%E7%94%A8(6).png" style="zoom:50%;">

<p> 至此，IDEA 新建项目成功！就可以进行 Java 代码的编写了！！！</p>
<h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><p>Maven是一个强大的项目管理工具，主要服务于Java项目。它通过对项目构建过程的标准化和自动化，实现了依赖管理的简化，从而极大地提升了开发效率，并确保了项目的高质量输出。Maven的核心功能包括项目构建、依赖管理和项目信息管理，为开发者提供了一个统一、高效的平台来管理复杂的Java项目。如果你想了解更多关于 Maven 的知识请上网查阅，这里只做简单介绍。</p>
<p>这里我们主要使用到了依赖管理功能：采用 <code>pom.xml</code> 来导入依赖，可以自动下载 jar，以及其所依赖 jar，无需手动下载，拷贝 jar 到项目中。简单理解就是找 jar 包太麻烦了，我懒得自己找，让 Maven 帮我找。😏</p>
<h2 id="Maven-下载"><a href="#Maven-下载" class="headerlink" title="Maven 下载"></a>Maven 下载</h2><p><a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi">下载官网</a></p>
<p>直接点击下载最新版或者下载以前的版本</p>
<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Maven%E4%B8%8B%E8%BD%BD%E5%AE%98%E7%BD%91%20.png"></p>
<p>点击 <code>legacy archives</code> 进入页面自行选择相应版本即可。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/maven%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC.png" style="zoom: 67%;">

<p>打不开官网？试试<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/maven/">清华大学开源软件镜像站下载</a>。</p>
<h2 id="Maven-安装"><a href="#Maven-安装" class="headerlink" title="Maven 安装"></a>Maven 安装</h2><p>1、执行以下命令，选择文件上传到 Linux 的 &#x2F; 目录(具体请参考上文 <strong>FinalShell 文件上传</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /</span><br><span class="line"></span><br><span class="line">sudo rz</span><br></pre></td></tr></table></figure>

<p>2、解压缩 Maven 安装文件到 &#x2F;usr&#x2F;local 目录，并对解压缩之后的文件进行重命名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压缩 Maven 安装文件到 /usr/local 目录</span></span><br><span class="line">sudo tar -zxvf apache-maven-3.9.6-bin.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到 /usr/local 目录</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件</span></span><br><span class="line">sudo <span class="built_in">mv</span> ./apache-maven-3.9.6 ./maven-3.9.6</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看文件</span></span><br><span class="line">ll</span><br></pre></td></tr></table></figure>

<p>3、配置环境变量，使用 vim 编辑器修改 &#x2F;etc&#x2F;profile 文件，在文件最后添加环境变量。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 /etc/profile 文件</span></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Maven 环境变量</span></span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME=/usr/local/maven-3.9.6</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$MAVEN_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E9%85%8D%E7%BD%AEMaven%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" style="zoom:67%;">

<p>4、重启环境变量配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>5、检查安装结果，出现下面信息代表安装成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 Maven 版本信息</span></span><br><span class="line">mvn -version</span><br></pre></td></tr></table></figure>

<p><img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8BMaven%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF.png"></p>
<p>这样，Maven 就安装好了。</p>
<h2 id="Maven-仓库配置"><a href="#Maven-仓库配置" class="headerlink" title="Maven 仓库配置"></a>Maven 仓库配置</h2><blockquote>
<p>怎么理解 Maven 仓库？</p>
</blockquote>
<p>Maven 仓库主要用于管理项目的依赖和插件。它是 Maven 的核心概念之一，对于 Maven 项目的构建和管理起着至关重要的作用。</p>
<p>具体来说，Maven 仓库可以分为本地仓库、中央仓库和远程仓库。本地仓库位于用户的本地机器上，用于存储项目所需的依赖(jar包)和插件。当 Maven 构建项目时，它首先会在本地仓库中查找所需的依赖和插件。如果本地仓库中没有，Maven 会尝试从中央仓库或远程仓库中下载。</p>
<p>中央仓库是 Maven 的官方仓库，其中包含了大量开源的 Java 库和插件。它位于 Maven 的服务器上，是 Maven 社区共享资源的地方。通过中央仓库，Maven用户可以方便地获取到各种开源项目的依赖和插件。</p>
<p>除了中央仓库外，还有一些其他的远程仓库，它们可能由第三方提供，用于存储特定的依赖和插件。这些远程仓库可以作为中央仓库的补充，使得Maven用户可以获取到更多的资源。</p>
<blockquote>
<p>配置本地仓库</p>
</blockquote>
<p>1、新建存放仓库的文件夹(本地仓库)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 /usr/local/ 下创建 名为 maven_repo 的本地仓库</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> /usr/local/maven_repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把 Maven 本地仓库目录权限赋予给 muyoukule 用户(当前登陆用户)</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R muyoukule /usr/local/maven_repo</span><br></pre></td></tr></table></figure>

<p>2、打开 <code>setting.xml</code> 文件(<strong>注意自己存放的路径</strong>)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接操作虚拟机使用 gedit 修改 maven 配置文件</span></span><br><span class="line">sudo gedit /usr/local/maven-3.9.6/conf/settings.xml</span><br></pre></td></tr></table></figure>

<p>3、添加路径(<strong>注意自己存放的路径</strong>)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>/usr/local/maven_repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Maven%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93.png" style="zoom: 80%;">

<blockquote>
<p>配置远程仓库</p>
</blockquote>
<p>也可以不配置，但是下载依赖速度就会很慢。😂</p>
<p>在 <code>settings.xml</code> 中添加阿里云的镜像资源。(注意添加的位置)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Maven%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93.png" style="zoom: 50%;">

<h2 id="Maven-命令"><a href="#Maven-命令" class="headerlink" title="Maven 命令"></a>Maven 命令</h2><p>以下是 Maven 的常用命令：</p>
<ul>
<li><code>mvn clean</code>：清理构建产生的文件。</li>
<li><code>mvn compile</code>：编译项目的源代码。</li>
<li><code>mvn test</code>：运行项目的单元测试。</li>
<li><code>mvn package</code>：打包项目，生成 JAR 或 WAR 文件。</li>
<li><code>mvn install</code>：将项目安装到本地 Maven 仓库。</li>
<li><code>mvn deploy</code>：将项目发布到远程仓库。</li>
<li><code>mvn site</code>：生成项目文档和报告。</li>
<li><code>mvn archetype:generate</code> 或 <code>mvn archetype:create</code>：基于原型创建新的 Maven 项目。</li>
<li><code>mvn version</code> 或 <code>mvn -v</code>：显示 Maven 版本信息和环境配置。</li>
</ul>
<h2 id="IDEA-中使用-Maven"><a href="#IDEA-中使用-Maven" class="headerlink" title="IDEA 中使用 Maven"></a>IDEA 中使用 Maven</h2><p><strong>PS：IDEA 中自带 Maven，如果你没有下载Apache Maven，直接创建 Maven 项目也行。</strong></p>
<blockquote>
<p>IDEA 中自带的 Maven</p>
</blockquote>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E8%87%AA%E5%B8%A6%E7%9A%84Maven.png" style="zoom:50%;">

<blockquote>
<p>配置自己下载的 Maven</p>
</blockquote>
<p><font color="red"><strong>PS：配置 Maven 之前一定要做的设置！！这很重要！这很重要！这很重要 * 3 ！！！！否则 Maven 下载依赖会失败，会爆红！！！！</strong></font> 😣😣😣</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把 Maven 本地仓库目录权限赋予给 muyoukule 用户</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R muyoukule /usr/local/maven_repo</span><br></pre></td></tr></table></figure>

<p>如果你打开有项目先将它关闭，在 <code>Customize</code> 下点击 <code>All settings</code></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/All%20settings.png" style="zoom: 50%;">

<p>在左上角搜索 <code>maven</code>，找到如下界面进行配置</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E4%B8%AD%E8%AE%BE%E7%BD%AEMaven.png" style="zoom: 50%;">

<p>配置好了就可以创建 Maven 项目了。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/IDEA%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE.png" style="zoom:50%;">

<p>第一次创建 Maven 项目需要耐心等待，因为第一次创建 Maven 项目本地仓库为空，所有依赖都要去远程仓库下载。</p>
<p><font color="red"><strong>PS：每次创建完项目后记得要再次检查一下 Maven 配置是否成功！！！！</strong></font>😫😫😫</p>
<p>IDEA 左上角点击 <code>File</code> –&gt; <code>Settings</code> 进行检查。因为有些 IDEA 版本<del>很垃圾</del>有 BUG，在 <code>Customize</code> 点击 <code>All settings</code> 下配置 Maven 时失效。<font color="red"><strong>所以每次创建完项目一定要对 Maven 配置进行检查！！</strong></font></p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Maven%E9%A1%B9%E7%9B%AE%E5%8A%A0%E8%BD%BD%E4%BE%9D%E8%B5%96.png" style="zoom: 50%;">

<p>出现 <code>BUILE SUCCESS</code> 表示依赖加载成功，默认打开的 <code>pom.xml</code> 就是管理 jar 包的地方，以后项目所有的依赖都写在这里面，无需手动导入。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/Maven%E9%A1%B9%E7%9B%AE%E5%8A%A0%E8%BD%BD%E4%BE%9D%E8%B5%96%E6%88%90%E5%8A%9F.png" style="zoom: 50%;">

<p>创建的 Maven 项目在右侧会出现 Maven 按钮，点开后会看到有 <code>Lifecycle</code>(生命周期)、<code>Plugins</code>(插件)和 <code>Dependencies</code>(依赖)。其中在 <code>Dependencies</code> 里看到已经有一个 <code>junit</code> 依赖，这是创建项目时自动添加，用来做单元测试的，其中不难发现它与 <code>pom.xml</code> 文件里 <code>&lt;dependencies&gt;&lt;/dependencies&gt;</code> 下的：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>相对应，这是 Maven 引入外部依赖的方式，后续我们使用到的其他依赖也是使用这种形式引入项目。</p>
<p>需要注意的是引入依赖后需要点击以下刷新按钮，在 <code>Dependencies</code> 中看到了相应的依赖才可以进行使用。</p>
<img src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/BigDataIMG/%E6%9F%A5%E7%9C%8B%E4%BE%9D%E8%B5%96.png" style="zoom: 80%;">

<p> 至此，IDEA 新建 Maven 项目成功！就可以进行代码的编写了！！！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://zz.muyoukule.cn">木又枯了</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://zz.muyoukule.cn/posts/62103/">https://zz.muyoukule.cn/posts/62103/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zz.muyoukule.cn" target="_blank">muyoukule</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hadoop/">Hadoop</a><a class="post-meta__tags" href="/tags/Hive/">Hive</a><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/HBase/">HBase</a><a class="post-meta__tags" href="/tags/Sqoop/">Sqoop</a><a class="post-meta__tags" href="/tags/IDEA/">IDEA</a><a class="post-meta__tags" href="/tags/Maven/">Maven</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/44766/" title="Spring整合"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Spring整合</div></div></a></div><div class="next-post pull-right"><a href="/posts/19926/" title="【步骤一】本地数据集上传到数据仓库Hive"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover5.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">【步骤一】本地数据集上传到数据仓库Hive</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/53835/" title="【步骤三】Hive、MySQL、HBase数据互导"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover6.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-24</div><div class="title">【步骤三】Hive、MySQL、HBase数据互导</div></div></a></div><div><a href="/posts/18969/" title="【步骤二】Hive数据分析"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover7.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-24</div><div class="title">【步骤二】Hive数据分析</div></div></a></div><div><a href="/posts/19926/" title="【步骤一】本地数据集上传到数据仓库Hive"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover5.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-24</div><div class="title">【步骤一】本地数据集上传到数据仓库Hive</div></div></a></div><div><a href="/posts/14821/" title="【第4章】 MySQL优化"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover16.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-16</div><div class="title">【第4章】 MySQL优化</div></div></a></div><div><a href="/posts/44167/" title="【第3章】 索引"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover18.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-15</div><div class="title">【第3章】 索引</div></div></a></div><div><a href="/posts/57369/" title="【第2章】 存储引擎"><img class="cover" src="https://muyoukule-blog-pics.oss-cn-chengdu.aliyuncs.com/Source/CoverIMG/cover19.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-14</div><div class="title">【第2章】 存储引擎</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="card-info-avatar"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="palm_tree" fallback-src="https://lskypro.acozycotage.net/LightPicture/2022/12/fe1dc0402e623096.jpg">🎯</g-emoji><span>专注学习中</span></div></div></div><div class="author-info__name">木又枯了</div><div class="author-info__description">莫道桑榆晚，为霞尚满天</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">48</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" href="mailto:muyoukule@gmail.com"><i class="far fa-envelope"></i><span>Follow Me</span></a></div><div class="card-widget" id="card-tuijian"><div id="tj-box"><div id="tj-box1"><div id="tj-left"><p>扫一扫</p>
<span>快速打开移动端➤</span></div><div id="tj-right"><div id="tj-img-box"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACFUlEQVR42u3a0W6DMAwF0P7/T2+vk6rRayeBQA9PqIqGD5Xi7jqvn0dfLzw8PDw8PDw8PDw8PDw8PDw8PLwv5r3i6+/69/v3v/nfU8ZrwMPDw9uB92Hbjcs6XnOM79WAh4eHdy0vaQbVlUk76dWAh4eHdxfeyP3cV4yHh4d3L97xyuPP8fDw8J7Ey19BHkzkn2yRteDh4eGdOAAbv996voeHh4c3cPXY1XLLVeHh4eGdyJsVEFRjiGobmPwfAx4eHt4ALykifxGFgloXHh4e3j68Y2oeUvQ2+oUxLh4eHt4yXnVw1QMnvOqxAzw8PLzzeePb/fEWX2U3Dzfg4eHhnc7Lqb0R10iYO6Ex4OHh4S2LcasDsDwC7j0lDyzw8PDwzuflBY0Pt5I2k7w+PDw8vH14s34iV1cuCSPw8PDwTsk5C9txPOLKAUsGYHh4eHgLjg6Mt4dq/Jo3lWlhBB4eHt4yXm8Tz0dc1dBhcmPAw8PDm/STevywaS+eyNsJHh4e3j68WY0hoY6M1vDw8PD24VW36Wrc0DtGMO3QFR4eHt4yXt4M8uFZ3k6q8S4eHh7ePrzqxl0NNUZa0YcvAA8PD29jXt4Sqi2nF17g4eHh3YWXBBND5caRBx4eHt61vHxN+fHF6DYPL/Dw8PCu4vUGYHnw2it6WhiBh4eHN5X3jAsPDw8PDw8PDw8PDw8PDw8PDw/vC3i/ezB/enJp4hgAAAAASUVORK5CYII="/></div></div></div><div id="tj-box2"><div id="tj-left"><p>扫一扫</p>
<span>快速打开移动端➤</span></div><div id="tj-right"><div id="tj-img-box"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACFUlEQVR42u3a0W6DMAwF0P7/T2+vk6rRayeBQA9PqIqGD5Xi7jqvn0dfLzw8PDw8PDw8PDw8PDw8PDw8PLwv5r3i6+/69/v3v/nfU8ZrwMPDw9uB92Hbjcs6XnOM79WAh4eHdy0vaQbVlUk76dWAh4eHdxfeyP3cV4yHh4d3L97xyuPP8fDw8J7Ey19BHkzkn2yRteDh4eGdOAAbv996voeHh4c3cPXY1XLLVeHh4eGdyJsVEFRjiGobmPwfAx4eHt4ALykifxGFgloXHh4e3j68Y2oeUvQ2+oUxLh4eHt4yXnVw1QMnvOqxAzw8PLzzeePb/fEWX2U3Dzfg4eHhnc7Lqb0R10iYO6Ex4OHh4S2LcasDsDwC7j0lDyzw8PDwzuflBY0Pt5I2k7w+PDw8vH14s34iV1cuCSPw8PDwTsk5C9txPOLKAUsGYHh4eHgLjg6Mt4dq/Jo3lWlhBB4eHt4yXm8Tz0dc1dBhcmPAw8PDm/STevywaS+eyNsJHh4e3j68WY0hoY6M1vDw8PD24VW36Wrc0DtGMO3QFR4eHt4yXt4M8uFZ3k6q8S4eHh7ePrzqxl0NNUZa0YcvAA8PD29jXt4Sqi2nF17g4eHh3YWXBBND5caRBx4eHt61vHxN+fHF6DYPL/Dw8PCu4vUGYHnw2it6WhiBh4eHN5X3jAsPDw8PDw8PDw8PDw8PDw8PDw/vC3i/ezB/enJp4hgAAAAASUVORK5CYII="/></div></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><center>菜就多练</center></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-Linux-%E7%B3%BB%E7%BB%9F"><span class="toc-text">1. 安装 Linux 系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Linux-%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">1.1 Linux 的选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-CentOS7-%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80"><span class="toc-text">1.2 CentOS7 下载地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-CentOS7-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85"><span class="toc-text">1.3 CentOS7 系统安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E5%B7%A5%E5%85%B7"><span class="toc-text">远程连接工具</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#FinalShell-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85"><span class="toc-text">FinalShell 下载安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FinalShell-%E4%BD%BF%E7%94%A8"><span class="toc-text">FinalShell 使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Hadoop"><span class="toc-text">2. Hadoop</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Hadoop-%E5%AE%89%E8%A3%85%E5%87%86%E5%A4%87"><span class="toc-text">2.1 Hadoop 安装准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Hadoop%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85"><span class="toc-text">2.2 Hadoop下载安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-Hadoop-%E5%8D%95%E6%9C%BA%E9%85%8D%E7%BD%AE"><span class="toc-text">2.3 Hadoop 单机配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-Hadoop-%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E9%85%8D%E7%BD%AE"><span class="toc-text">2.4 Hadoop 伪分布式配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E8%BF%90%E8%A1%8C-Hadoop-%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E4%BE%8B"><span class="toc-text">2.5 运行 Hadoop 伪分布式实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E5%90%AF%E5%8A%A8-YARN"><span class="toc-text">2.6 启动 YARN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-Hadoop-%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE"><span class="toc-text">2.7 Hadoop 集群配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-MySQL"><span class="toc-text">3. MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-MySQL-%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">3.1 MySQL 下载与安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%85%B3%E4%BA%8E-MySQL-%E7%9A%84%E8%A1%A5%E5%85%85"><span class="toc-text">3.2 关于 MySQL 的补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-%E4%BF%AE%E6%94%B9-root-%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-text">3.2.1 修改 root 用户密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90%E5%88%86%E9%85%8D"><span class="toc-text">3.2.2 创建用户与权限分配</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-HBase"><span class="toc-text">4. HBase</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-HBase-%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">4.1 HBase 下载与安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-HBase-%E5%8D%95%E6%9C%BA%E6%A8%A1%E5%BC%8F%E9%85%8D%E7%BD%AE"><span class="toc-text">4.2 HBase 单机模式配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-HBase-%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%A8%A1%E5%BC%8F%E9%85%8D%E7%BD%AE"><span class="toc-text">4.3 HBase 伪分布式模式配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5"><span class="toc-text">4.4 编程实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-%E5%88%A9%E7%94%A8Shell%E5%91%BD%E4%BB%A4"><span class="toc-text">4.4.1 利用Shell命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-2-Java-API-%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5"><span class="toc-text">4.4.2 Java API 编程实践</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-Hive"><span class="toc-text">5. Hive</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-Hive-%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">5.1 Hive 下载与安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E9%85%8D%E7%BD%AE-MySQL"><span class="toc-text">5.2 配置 MySQL</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-Sqoop"><span class="toc-text">6. Sqoop</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-Sqoop%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">6.1 Sqoop下载与安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E9%85%8D%E7%BD%AE-MySQL"><span class="toc-text">6.2 配置 MySQL</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8-IDEA"><span class="toc-text">Linux 安装使用 IDEA</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-%E7%9A%84%E4%B8%8B%E8%BD%BD"><span class="toc-text">IDEA 的下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">IDEA 的安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">IDEA 的使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven"><span class="toc-text">Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-%E4%B8%8B%E8%BD%BD"><span class="toc-text">Maven 下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-%E5%AE%89%E8%A3%85"><span class="toc-text">Maven 安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="toc-text">Maven 仓库配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-%E5%91%BD%E4%BB%A4"><span class="toc-text">Maven 命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-%E4%B8%AD%E4%BD%BF%E7%94%A8-Maven"><span class="toc-text">IDEA 中使用 Maven</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/35945/" title="【设计模式】代理模式">【设计模式】代理模式</a><time datetime="2024-10-10T03:12:00.000Z" title="更新于 2024-10-10 11:12:00">2024-10-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/53990/" title="【设计模式】单例模式">【设计模式】单例模式</a><time datetime="2024-09-24T01:42:00.000Z" title="更新于 2024-09-24 09:42:00">2024-09-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/53989/" title="【设计模式】策略模式">【设计模式】策略模式</a><time datetime="2024-07-28T09:13:00.000Z" title="更新于 2024-07-28 17:13:00">2024-07-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/45112/" title="【设计模式】建造者模式">【设计模式】建造者模式</a><time datetime="2024-07-13T09:16:00.000Z" title="更新于 2024-07-13 17:16:00">2024-07-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/8343/" title="【设计模式】工厂模式">【设计模式】工厂模式</a><time datetime="2024-06-20T12:02:00.000Z" title="更新于 2024-06-20 20:02:00">2024-06-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright"><span><b>&copy;2024</b></span><span><b>&nbsp;&nbsp;By 木又枯了</b></span></div><div class="footer_custom_text">【The future of the past is now】</div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo"><img src="https://img.shields.io/badge/Frame-Hexo-blue?logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题为Butterfly"><img src="https://img.shields.io/badge/Frame-Butterfly-%237957D5?logo=buefy&amp;logoColor=white" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站托管于Vercel"><img src="https://img.shields.io/badge/Hosted-Vercel-green?logo=vercel&amp;logoColor=white" alt=""/></a><a class="github-badge" target="_blank" href="https://www.aliyun.com/" style="margin-inline:5px" title="本网站由阿里云提供对象存储服务"><img src="https://img.shields.io/badge/Bucket-阿里云oss-F0AC11?logo=automattic&amp;logoColor=white" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src="https://img.shields.io/badge/Source-Github-%23CC2ED1?logo=github" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button class="darkmode" type="button" title="切换模式" onclick="darkmode()"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script async src="https://fastly.jsdelivr.net/gh/muyoukule/blog-static-resource/js/muyoukule.js"></script><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><script data-pjax defer src="https://fastly.jsdelivr.net/gh/muyoukule/muyoukule.github.io/js/custom/fixed_card_widget.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="Freedom,Enthusiasm,Patience,Love" data-fontsize="20px" data-random="true" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#fixedcard-dashboard",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="fixedcard-dashboard"><button class="fixedcard-activebtn" type="button" title="用户信息" onclick="FixedCardWidget(&quot;class&quot;,&quot;card-info&quot;,&quot;0&quot;)"><i class="fas fa-address-book"></i></button><button class="fixedcard-activebtn" type="button" title="最新文章" onclick="FixedCardWidget(&quot;class&quot;,&quot;card-recent-post&quot;,&quot;0&quot;)"><i class="fas fa-history"></i></button><div class="fixedcard-user-avatar fixedcard-activebtn" onclick="RemoveFixedCardWidget()"><img class="fixedcard-user-avatar-img" src="/img/avatar.png" title="木又枯了"></div></div><div class="docsearch-wrap"><div id="docsearch" style="display:none"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3.5.2/dist/style.min.css"/><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.5.2/dist/umd/index.min.js"></script><script>(() => {
  docsearch(Object.assign({
    appId: '8Y220YX5OM',
    apiKey: 'e8862f5d2e0ebdce05962b4b98dad983',
    indexName: 'zz-muyoukule',
    container: '#docsearch',
  }, {"placeholder":"Please enter search keywords"}))

  const handleClick = () => {
    document.querySelector('.DocSearch-Button').click()
  }

  const searchClickFn = () => {
    btf.addEventListenerPjax(document.querySelector('#search-button > .search'), 'click', handleClick)
  }

  searchClickFn()
  window.addEventListener('pjax:complete', searchClickFn)
})()</script></div></div><!-- hexo injector body_end start --><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '50');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>